% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rowwise.R
\name{rowwise.survey_base}
\alias{rowwise.survey_base}
\title{Compute row-wise on a survey design object}
\usage{
rowwise.survey_base(data, ...)
}
\arguments{
\item{data}{A \code{\link[surveycore:survey_base]{survey_base}} object.}

\item{...}{<\code{\link[tidyselect:language]{tidy-select}}> Optional id columns that
identify each row (used with \code{\link[dplyr:c_across]{dplyr::c_across()}}). Commonly omitted.}
}
\value{
\code{data} with \verb{@variables$rowwise = TRUE} and
\verb{@variables$rowwise_id_cols} set. All other properties are unchanged.
}
\description{
\code{rowwise()} enables row-by-row computation in \code{\link[=mutate]{mutate()}}. Each row is
treated as an independent group, so expressions like
\code{mutate(d, row_max = max(c_across(starts_with("y"))))} compute the maximum
across columns for each row independently.

Use \code{\link[=ungroup]{ungroup()}} or \code{\link[=group_by]{group_by()}} to exit rowwise mode.
}
\details{
\subsection{Storage}{

Rowwise mode is stored in \verb{@variables$rowwise} (logical \code{TRUE}) and
\verb{@variables$rowwise_id_cols} (character vector of id column names).
\verb{@groups} is \strong{not} modified — rowwise mode is independent of grouping.
}

\subsection{Exiting rowwise mode}{
\itemize{
\item \code{ungroup(d)} — exits rowwise mode and removes all groups.
\item \code{group_by(d, ...)} — exits rowwise mode and sets new groups.
\item \code{group_by(d, ..., .add = TRUE)} — promotes id columns to groups, then
appends the new groups, then exits rowwise mode.
}
}

\subsection{mutate() behaviour}{

\code{\link[=mutate]{mutate()}} detects rowwise mode and routes internally through
\verb{dplyr::rowwise(@data)} before calling \code{dplyr::mutate()}. The \code{rowwise_df}
class is stripped from \verb{@data} after mutation so subsequent operations
are not accidentally rowwise.
}
}
\examples{
library(surveytidy)
library(surveycore)
library(dplyr)
d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)

# Row-wise max across several columns
d |>
  rowwise() |>
  mutate(row_max = max(c_across(starts_with("econ")), na.rm = TRUE))

# Exit rowwise mode
d |> rowwise() |> ungroup()

}
\seealso{
Other grouping: 
\code{\link{group_by.survey_base}()},
\code{\link{is_grouped}()},
\code{\link{is_rowwise}()}
}
\concept{grouping}
