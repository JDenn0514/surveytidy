[{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"surveytidy Package Development","title":"surveytidy Package Development","text":"Part surveyverse ecosystem — see ecosystem vision, architecture, surveytidy relates packages.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"project-overview","dir":"","previous_headings":"","what":"Project Overview","title":"surveytidy Package Development","text":"surveytidy provides dplyr/tidyr verbs survey design objects surveycore. extends tidyverse workflows work seamlessly complex survey designs, allowing users filter, select, mutate, group survey objects maintaining proper variance estimation metadata handling.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"package-information","dir":"","previous_headings":"","what":"Package Information","title":"surveytidy Package Development","text":"Name: surveytidy Purpose: dplyr/tidyr verbs survey objects (filter, select, mutate, rename, arrange, group_by, etc.) Target Audience: Survey researchers using tidyverse; users transitioning srvyr Current Status: Phase 0.5 (planning complete; implementation starting) License: GPL-3 (inherits surveycore) Dependencies: surveycore (imports core S7 classes)","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"vision--goals","dir":"","previous_headings":"","what":"Vision & Goals","title":"surveytidy Package Development","text":"surveytidy makes survey analysis feel natural tidyverse users : Domain-aware filtering — filter() marks rows /domain without removing Intelligent metadata handling — select() rename() update labels automatically Group-support — group_by() sets stratification Phase 1 estimation functions Familiar API — Users never write formula syntax; everything uses bare names (tidy-select)","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"key-design-decisions-finalized","dir":"","previous_headings":"","what":"Key Design Decisions (Finalized)","title":"surveytidy Package Development","text":"dplyr verbs map survey concepts — filter = domain, select = simplify data (remove non-design cols), mutate = add variables Metadata travels data — verbs update @variables @metadata keys Filter preserves rows — Uses domain column internally; never removes rows formula syntax — Always filter(design, age > 65), never filter(design, ~age > 65) S3 dispatch via registerS3method() — S7 methods; dplyr’s S3 dispatch works survey classes","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"dplyr-dispatch-pattern-critical","dir":"","previous_headings":"","what":"dplyr Dispatch Pattern (CRITICAL)","title":"surveytidy Package Development","text":"S7 namespaced class names break S3 dispatch. make dplyr verbs work: registers S3 method dplyr’s environment dispatch works. See R/zzz.R full setup.","code":"# In .onLoad(): registerS3method(   \"filter\", \"surveycore::survey_base\",   get(\"filter.survey_base\", envir = ns),   envir = asNamespace(\"dplyr\") )"},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"file-organization-r","dir":"","previous_headings":"Architecture","what":"File Organization (R/)","title":"surveytidy Package Development","text":"","code":"R/ ├── arrange.R              # arrange.survey_base (row sorting) ├── filter.R               # filter.survey_base + subset.survey_base ├── group-by.R             # group_by.survey_base + ungroup.survey_base ├── joins.R                # *_join() (stretch goals) ├── mutate.R               # mutate.survey_base (warns on weight column modification) ├── rename.R               # rename.survey_base (auto-updates @variables + @metadata keys) ├── select.R               # select + relocate + pull + glimpse ├── slice.R                # all slice_*.survey_base via factory ├── surveytidy-package.R   # Package-level documentation ├── drop-na.R              # drop_na.survey_base ├── utils.R                # shared helpers (.protected_cols, dplyr_reconstruct, etc.) └── zzz.R                  # .onLoad(): S3 method registration + S7::methods_register()"},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"test-organization-teststestthat","dir":"","previous_headings":"Architecture","what":"Test Organization (tests/testthat/)","title":"surveytidy Package Development","text":"","code":"tests/testthat/ ├── helper-test-data.R      # Shared test data generators (copied from surveycore) ├── test-filter.R           # filter() and related domain operations ├── test-select.R           # select(), pull(), glimpse() ├── test-mutate.R           # mutate() behavior + weight column warnings ├── test-rename.R           # rename() + automatic metadata updates ├── test-arrange.R          # arrange(), slice_*() ├── test-group-by.R         # group_by(), ungroup() └── test-tidyr.R            # tidyr functions (drop_na, separate, unite)"},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"domain-column","dir":"","previous_headings":"Architecture > Key Concepts","what":"Domain Column","title":"surveytidy Package Development","text":"Name: \"..surveycore_domain..\" (use surveycore::SURVEYCORE_DOMAIN_COL) Type: logical column @data Content: TRUE -domain rows, FALSE --domain rows Never removed; created/updated filter()","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"visible_vars","dir":"","previous_headings":"Architecture > Key Concepts","what":"visible_vars","title":"surveytidy Package Development","text":"Key @variables$visible_vars Set select() user’s explicit column selection Controls columns print() shows (hides design vars display) NULL means columns @data shown (default) select(), @data contains design vars + user-selected cols; visible_vars tracks user’s selection design vars hidden print","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"groups","dir":"","previous_headings":"Architecture > Key Concepts","what":"@groups","title":"surveytidy Package Development","text":"Reserved Phase 0.5 (now used group_by()) Populated group_by(), cleared ungroup() used Phase 1 estimation functions","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"dplyr_reconstruct","dir":"","previous_headings":"Architecture > Key Concepts","what":"dplyr_reconstruct()","title":"surveytidy Package Development","text":"Required complex pipelines (joins, across(), slice, etc.) Rebuilds survey class reconstructed data + original template Errors design variables removed","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"before-starting-any-implementation","dir":"","previous_headings":"","what":"Before Starting Any Implementation","title":"surveytidy Package Development","text":"Start : - .claude/WORKFLOW.md — planning, implementation, PR cycles fit together Rules (always apply — loaded session start): 1. .claude/rules/code-style.md — indentation, pipe operator, air formatter, S7 patterns, cli error structure, argument order, helper placement 2. .claude/rules/r-package-conventions.md — :: usage, NAMESPACE, roxygen2, @return, @examples, export policy 3. .claude/rules/surveytidy-conventions.md — S3 dispatch, verb method names, special columns (domain, visible_vars, @groups), return visibility 4. .claude/rules/testing-standards.md — test structure, coverage requirements, assertion patterns, data generators 5. .claude/rules/testing-surveytidy.md — test_invariants(), three design type loops, domain preservation, verb error patterns 6. .claude/rules/engineering-preferences.md — DRY, well-tested, engineered enough, explicit clever Skills (invoke -demand): - .claude/skills/spec-workflow/SKILL.md — planning arc: draft → review → implementation plan → decisions log - .claude/skills/r-implement/SKILL.md — implementation loop: read plan → write code → verify → mark done - .claude/skills/commit--pr/SKILL.md — PR cycle: changelog → pre-flight → commit → PR → CI GitHub strategy (read creating PRs): - .claude/rules/github-strategy.md — branching model, commit format, PR workflow, CI/CD setup Reference: - ../surveycore/CLAUDE.md — surveycore architecture (survey class structure, @data/@variables/@metadata) - plans/error-messages.md — surveytidy error/warning classes (update adding new class)","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"phase-05-build-order","dir":"","previous_headings":"","what":"Phase 0.5 Build Order","title":"surveytidy Package Development","text":"feature/filter — R/01-filter.R + tests/testthat/test-filter.R feature/select — R/02-select.R + tests/testthat/test-select.R feature/mutate — R/03-mutate.R + tests/testthat/test-mutate.R feature/rename — R/04-rename.R + tests/testthat/test-rename.R feature/arrange — R/05-arrange.R + tests/testthat/test-arrange.R feature/group-— R/06-group-.R + tests/testthat/test-group-.R feature/tidyr — R/07-tidyr.R + tests/testthat/test-tidyr.R (stretch) feature/joins — R/08-joins.R + tests/testthat/test-joins.R (stretch)","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"filter-specifics","dir":"","previous_headings":"Key Implementation Details","what":"filter() Specifics","title":"surveytidy Package Development","text":"Stores conditions @variables$domain (list quosures) Chained filters masks: existing_domain & new_mask Empty domain (FALSE) triggers surveycore_warning_empty_domain .argument supported; raises surveycore_error_filter_by_unsupported","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"select-specifics","dir":"","previous_headings":"Key Implementation Details","what":"select() Specifics","title":"surveytidy Package Development","text":"Physically removes non-selected, non-design columns @data Always keeps design variables @data (weights, strata, PSU, FPC, repweights, domain column) — required variance estimation Sets @variables$visible_vars user’s selection — hides design vars print output (’re @data user’s selection) Normalises visible_vars NULL result empty (e.g. user selects design variables) — NULL means “show columns @data” Deletes @metadata entries physically removed columns select() irreversible within pipeline: removed columns gone","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"rename-specifics","dir":"","previous_headings":"Key Implementation Details","what":"rename() Specifics","title":"surveytidy Package Development","text":"Uses surveycore:::.update_design_var_names() update @variables keys Uses surveycore:::.rename_metadata_keys() update @metadata keys Warns (error) user renames design variable; updates @variables track new column name (surveytidy_warning_rename_design_var)","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"dplyr_reconstruct-1","dir":"","previous_headings":"Key Implementation Details","what":"dplyr_reconstruct()","title":"surveytidy Package Development","text":"Called dplyr complex operations (joins, across(), slice, etc.) Must rebuild survey class data + template Errors surveycore_error_design_var_removed design cols deleted","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"subsetsurvey_base","dir":"","previous_headings":"Key Implementation Details","what":"subset.survey_base","title":"surveytidy Package Development","text":"Physical subsetting (actually removes rows, unlike filter) Always issues surveycore_warning_physical_subset Registered via NAMESPACE (base R generic, dplyr)","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"examples-must-load-dplyrtidyr-explicitly","dir":"","previous_headings":"R CMD Check Gotchas","what":"Examples must load dplyr/tidyr explicitly","title":"surveytidy Package Development","text":"dplyr verbs (filter, select, arrange, etc.) Imports re-exported. R CMD check runs examples fresh session library(surveytidy) loaded — dplyr functions search path. Every @examples block calls dplyr tidyr verb must begin explicit library() call: Use library(tidyr) instead drop_na() tidyr verbs.","code":"#' @examples #' library(dplyr)        # required — dplyr verbs not re-exported by surveytidy #' df <- data.frame(...) #' d  <- surveycore::as_survey(df, weights = wt) #' arrange(d, y)"},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"working-with-this-codebase","dir":"","previous_headings":"","what":"Working With This Codebase","title":"surveytidy Package Development","text":"Follow established patterns — consistency surveycore matters Update metadata automatically — verbs handle @variables/@metadata updates Test combinations — verb tested three design types (taylor, replicate, twophase) Check domain preservation — domain column survive operations intact Provide complete code blocks — ready copy use Include tests — always provide corresponding tests new verbs","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CLAUDE.html","id":"reference-documents","dir":"","previous_headings":"","what":"Reference Documents","title":"surveytidy Package Development","text":"planning documents plans/: - (Currently minimal; grow Phase 0.5 proceeds) finalized decisions ../survey-standards/.claude/rules/: - code-style.md — R style, S7 patterns, error conventions, function design, roxygen/package check - testing-standards.md — test structure, coverage, assertion patterns, test data PR workflow: .claude/skills/github-strategy.md Always defer surveycore’s CLAUDE.md survey class internals. surveytidy add-layer.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement jacob.dennen@example.com. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to surveytidy","title":"Contributing to surveytidy","text":"outlines propose change surveytidy.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to surveytidy","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to surveytidy","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to surveytidy","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"JDenn0514/surveytidy\",     fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to surveytidy","text":"New code follow tidyverse style guide. can use air package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to surveytidy","text":"Please note surveytidy project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"GNU General Public License","title":"GNU General Public License","text":"Version 3, 29 June 2007Copyright © 2007 Free Software Foundation, Inc. <http://fsf.org/> Everyone permitted copy distribute verbatim copies license document, changing allowed.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"preamble","dir":"","previous_headings":"","what":"Preamble","title":"GNU General Public License","text":"GNU General Public License free, copyleft license software kinds works. licenses software practical works designed take away freedom share change works. contrast, GNU General Public License intended guarantee freedom share change versions program–make sure remains free software users. , Free Software Foundation, use GNU General Public License software; applies also work released way authors. can apply programs, . speak free software, referring freedom, price. General Public Licenses designed make sure freedom distribute copies free software (charge wish), receive source code can get want , can change software use pieces new free programs, know can things. protect rights, need prevent others denying rights asking surrender rights. Therefore, certain responsibilities distribute copies software, modify : responsibilities respect freedom others. example, distribute copies program, whether gratis fee, must pass recipients freedoms received. must make sure , , receive can get source code. must show terms know rights. Developers use GNU GPL protect rights two steps: (1) assert copyright software, (2) offer License giving legal permission copy, distribute /modify . developers’ authors’ protection, GPL clearly explains warranty free software. users’ authors’ sake, GPL requires modified versions marked changed, problems attributed erroneously authors previous versions. devices designed deny users access install run modified versions software inside , although manufacturer can . fundamentally incompatible aim protecting users’ freedom change software. systematic pattern abuse occurs area products individuals use, precisely unacceptable. Therefore, designed version GPL prohibit practice products. problems arise substantially domains, stand ready extend provision domains future versions GPL, needed protect freedom users. Finally, every program threatened constantly software patents. States allow patents restrict development use software general-purpose computers, , wish avoid special danger patents applied free program make effectively proprietary. prevent , GPL assures patents used render program non-free. precise terms conditions copying, distribution modification follow.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_0-definitions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"0. Definitions","title":"GNU General Public License","text":"“License” refers version 3 GNU General Public License. “Copyright” also means copyright-like laws apply kinds works, semiconductor masks. “Program” refers copyrightable work licensed License. licensee addressed “”. “Licensees” “recipients” may individuals organizations. “modify” work means copy adapt part work fashion requiring copyright permission, making exact copy. resulting work called “modified version” earlier work work “based ” earlier work. “covered work” means either unmodified Program work based Program. “propagate” work means anything , without permission, make directly secondarily liable infringement applicable copyright law, except executing computer modifying private copy. Propagation includes copying, distribution (without modification), making available public, countries activities well. “convey” work means kind propagation enables parties make receive copies. Mere interaction user computer network, transfer copy, conveying. interactive user interface displays “Appropriate Legal Notices” extent includes convenient prominently visible feature (1) displays appropriate copyright notice, (2) tells user warranty work (except extent warranties provided), licensees may convey work License, view copy License. interface presents list user commands options, menu, prominent item list meets criterion.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_1-source-code","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"1. Source Code","title":"GNU General Public License","text":"“source code” work means preferred form work making modifications . “Object code” means non-source form work. “Standard Interface” means interface either official standard defined recognized standards body, , case interfaces specified particular programming language, one widely used among developers working language. “System Libraries” executable work include anything, work whole, () included normal form packaging Major Component, part Major Component, (b) serves enable use work Major Component, implement Standard Interface implementation available public source code form. “Major Component”, context, means major essential component (kernel, window system, ) specific operating system () executable work runs, compiler used produce work, object code interpreter used run . “Corresponding Source” work object code form means source code needed generate, install, (executable work) run object code modify work, including scripts control activities. However, include work’s System Libraries, general-purpose tools generally available free programs used unmodified performing activities part work. example, Corresponding Source includes interface definition files associated source files work, source code shared libraries dynamically linked subprograms work specifically designed require, intimate data communication control flow subprograms parts work. Corresponding Source need include anything users can regenerate automatically parts Corresponding Source. Corresponding Source work source code form work.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_2-basic-permissions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"2. Basic Permissions","title":"GNU General Public License","text":"rights granted License granted term copyright Program, irrevocable provided stated conditions met. License explicitly affirms unlimited permission run unmodified Program. output running covered work covered License output, given content, constitutes covered work. License acknowledges rights fair use equivalent, provided copyright law. may make, run propagate covered works convey, without conditions long license otherwise remains force. may convey covered works others sole purpose make modifications exclusively , provide facilities running works, provided comply terms License conveying material control copyright. thus making running covered works must exclusively behalf, direction control, terms prohibit making copies copyrighted material outside relationship . Conveying circumstances permitted solely conditions stated . Sublicensing allowed; section 10 makes unnecessary.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_3-protecting-users-legal-rights-from-anti-circumvention-law","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"3. Protecting Users’ Legal Rights From Anti-Circumvention Law","title":"GNU General Public License","text":"covered work shall deemed part effective technological measure applicable law fulfilling obligations article 11 WIPO copyright treaty adopted 20 December 1996, similar laws prohibiting restricting circumvention measures. convey covered work, waive legal power forbid circumvention technological measures extent circumvention effected exercising rights License respect covered work, disclaim intention limit operation modification work means enforcing, work’s users, third parties’ legal rights forbid circumvention technological measures.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_4-conveying-verbatim-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"4. Conveying Verbatim Copies","title":"GNU General Public License","text":"may convey verbatim copies Program’s source code receive , medium, provided conspicuously appropriately publish copy appropriate copyright notice; keep intact notices stating License non-permissive terms added accord section 7 apply code; keep intact notices absence warranty; give recipients copy License along Program. may charge price price copy convey, may offer support warranty protection fee.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_5-conveying-modified-source-versions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"5. Conveying Modified Source Versions","title":"GNU General Public License","text":"may convey work based Program, modifications produce Program, form source code terms section 4, provided also meet conditions: ) work must carry prominent notices stating modified , giving relevant date. b) work must carry prominent notices stating released License conditions added section 7. requirement modifies requirement section 4 “keep intact notices”. c) must license entire work, whole, License anyone comes possession copy. License therefore apply, along applicable section 7 additional terms, whole work, parts, regardless packaged. License gives permission license work way, invalidate permission separately received . d) work interactive user interfaces, must display Appropriate Legal Notices; however, Program interactive interfaces display Appropriate Legal Notices, work need make . compilation covered work separate independent works, nature extensions covered work, combined form larger program, volume storage distribution medium, called “aggregate” compilation resulting copyright used limit access legal rights compilation’s users beyond individual works permit. Inclusion covered work aggregate cause License apply parts aggregate.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_6-conveying-non-source-forms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"6. Conveying Non-Source Forms","title":"GNU General Public License","text":"may convey covered work object code form terms sections 4 5, provided also convey machine-readable Corresponding Source terms License, one ways: ) Convey object code , embodied , physical product (including physical distribution medium), accompanied Corresponding Source fixed durable physical medium customarily used software interchange. b) Convey object code , embodied , physical product (including physical distribution medium), accompanied written offer, valid least three years valid long offer spare parts customer support product model, give anyone possesses object code either (1) copy Corresponding Source software product covered License, durable physical medium customarily used software interchange, price reasonable cost physically performing conveying source, (2) access copy Corresponding Source network server charge. c) Convey individual copies object code copy written offer provide Corresponding Source. alternative allowed occasionally noncommercially, received object code offer, accord subsection 6b. d) Convey object code offering access designated place (gratis charge), offer equivalent access Corresponding Source way place charge. need require recipients copy Corresponding Source along object code. place copy object code network server, Corresponding Source may different server (operated third party) supports equivalent copying facilities, provided maintain clear directions next object code saying find Corresponding Source. Regardless server hosts Corresponding Source, remain obligated ensure available long needed satisfy requirements. e) Convey object code using peer--peer transmission, provided inform peers object code Corresponding Source work offered general public charge subsection 6d. separable portion object code, whose source code excluded Corresponding Source System Library, need included conveying object code work. “User Product” either (1) “consumer product”, means tangible personal property normally used personal, family, household purposes, (2) anything designed sold incorporation dwelling. determining whether product consumer product, doubtful cases shall resolved favor coverage. particular product received particular user, “normally used” refers typical common use class product, regardless status particular user way particular user actually uses, expects expected use, product. product consumer product regardless whether product substantial commercial, industrial non-consumer uses, unless uses represent significant mode use product. “Installation Information” User Product means methods, procedures, authorization keys, information required install execute modified versions covered work User Product modified version Corresponding Source. information must suffice ensure continued functioning modified object code case prevented interfered solely modification made. convey object code work section , , specifically use , User Product, conveying occurs part transaction right possession use User Product transferred recipient perpetuity fixed term (regardless transaction characterized), Corresponding Source conveyed section must accompanied Installation Information. requirement apply neither third party retains ability install modified object code User Product (example, work installed ROM). requirement provide Installation Information include requirement continue provide support service, warranty, updates work modified installed recipient, User Product modified installed. Access network may denied modification materially adversely affects operation network violates rules protocols communication across network. Corresponding Source conveyed, Installation Information provided, accord section must format publicly documented (implementation available public source code form), must require special password key unpacking, reading copying.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_7-additional-terms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"7. Additional Terms","title":"GNU General Public License","text":"“Additional permissions” terms supplement terms License making exceptions one conditions. Additional permissions applicable entire Program shall treated though included License, extent valid applicable law. additional permissions apply part Program, part may used separately permissions, entire Program remains governed License without regard additional permissions. convey copy covered work, may option remove additional permissions copy, part . (Additional permissions may written require removal certain cases modify work.) may place additional permissions material, added covered work, can give appropriate copyright permission. Notwithstanding provision License, material add covered work, may (authorized copyright holders material) supplement terms License terms: ) Disclaiming warranty limiting liability differently terms sections 15 16 License; b) Requiring preservation specified reasonable legal notices author attributions material Appropriate Legal Notices displayed works containing ; c) Prohibiting misrepresentation origin material, requiring modified versions material marked reasonable ways different original version; d) Limiting use publicity purposes names licensors authors material; e) Declining grant rights trademark law use trade names, trademarks, service marks; f) Requiring indemnification licensors authors material anyone conveys material (modified versions ) contractual assumptions liability recipient, liability contractual assumptions directly impose licensors authors. non-permissive additional terms considered “restrictions” within meaning section 10. Program received , part , contains notice stating governed License along term restriction, may remove term. license document contains restriction permits relicensing conveying License, may add covered work material governed terms license document, provided restriction survive relicensing conveying. add terms covered work accord section, must place, relevant source files, statement additional terms apply files, notice indicating find applicable terms. Additional terms, permissive non-permissive, may stated form separately written license, stated exceptions; requirements apply either way.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_8-termination","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"8. Termination","title":"GNU General Public License","text":"may propagate modify covered work except expressly provided License. attempt otherwise propagate modify void, automatically terminate rights License (including patent licenses granted third paragraph section 11). However, cease violation License, license particular copyright holder reinstated () provisionally, unless copyright holder explicitly finally terminates license, (b) permanently, copyright holder fails notify violation reasonable means prior 60 days cessation. Moreover, license particular copyright holder reinstated permanently copyright holder notifies violation reasonable means, first time received notice violation License (work) copyright holder, cure violation prior 30 days receipt notice. Termination rights section terminate licenses parties received copies rights License. rights terminated permanently reinstated, qualify receive new licenses material section 10.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_9-acceptance-not-required-for-having-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"9. Acceptance Not Required for Having Copies","title":"GNU General Public License","text":"required accept License order receive run copy Program. Ancillary propagation covered work occurring solely consequence using peer--peer transmission receive copy likewise require acceptance. However, nothing License grants permission propagate modify covered work. actions infringe copyright accept License. Therefore, modifying propagating covered work, indicate acceptance License .","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_10-automatic-licensing-of-downstream-recipients","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"10. Automatic Licensing of Downstream Recipients","title":"GNU General Public License","text":"time convey covered work, recipient automatically receives license original licensors, run, modify propagate work, subject License. responsible enforcing compliance third parties License. “entity transaction” transaction transferring control organization, substantially assets one, subdividing organization, merging organizations. propagation covered work results entity transaction, party transaction receives copy work also receives whatever licenses work party’s predecessor interest give previous paragraph, plus right possession Corresponding Source work predecessor interest, predecessor can get reasonable efforts. may impose restrictions exercise rights granted affirmed License. example, may impose license fee, royalty, charge exercise rights granted License, may initiate litigation (including cross-claim counterclaim lawsuit) alleging patent claim infringed making, using, selling, offering sale, importing Program portion .","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_11-patents","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"11. Patents","title":"GNU General Public License","text":"“contributor” copyright holder authorizes use License Program work Program based. work thus licensed called contributor’s “contributor version”. contributor’s “essential patent claims” patent claims owned controlled contributor, whether already acquired hereafter acquired, infringed manner, permitted License, making, using, selling contributor version, include claims infringed consequence modification contributor version. purposes definition, “control” includes right grant patent sublicenses manner consistent requirements License. contributor grants non-exclusive, worldwide, royalty-free patent license contributor’s essential patent claims, make, use, sell, offer sale, import otherwise run, modify propagate contents contributor version. following three paragraphs, “patent license” express agreement commitment, however denominated, enforce patent (express permission practice patent covenant sue patent infringement). “grant” patent license party means make agreement commitment enforce patent party. convey covered work, knowingly relying patent license, Corresponding Source work available anyone copy, free charge terms License, publicly available network server readily accessible means, must either (1) cause Corresponding Source available, (2) arrange deprive benefit patent license particular work, (3) arrange, manner consistent requirements License, extend patent license downstream recipients. “Knowingly relying” means actual knowledge , patent license, conveying covered work country, recipient’s use covered work country, infringe one identifiable patents country reason believe valid. , pursuant connection single transaction arrangement, convey, propagate procuring conveyance , covered work, grant patent license parties receiving covered work authorizing use, propagate, modify convey specific copy covered work, patent license grant automatically extended recipients covered work works based . patent license “discriminatory” include within scope coverage, prohibits exercise , conditioned non-exercise one rights specifically granted License. may convey covered work party arrangement third party business distributing software, make payment third party based extent activity conveying work, third party grants, parties receive covered work , discriminatory patent license () connection copies covered work conveyed (copies made copies), (b) primarily connection specific products compilations contain covered work, unless entered arrangement, patent license granted, prior 28 March 2007. Nothing License shall construed excluding limiting implied license defenses infringement may otherwise available applicable patent law.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_12-no-surrender-of-others-freedom","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"12. No Surrender of Others’ Freedom","title":"GNU General Public License","text":"conditions imposed (whether court order, agreement otherwise) contradict conditions License, excuse conditions License. convey covered work satisfy simultaneously obligations License pertinent obligations, consequence may convey . example, agree terms obligate collect royalty conveying convey Program, way satisfy terms License refrain entirely conveying Program.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_13-use-with-the-gnu-affero-general-public-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"13. Use with the GNU Affero General Public License","title":"GNU General Public License","text":"Notwithstanding provision License, permission link combine covered work work licensed version 3 GNU Affero General Public License single combined work, convey resulting work. terms License continue apply part covered work, special requirements GNU Affero General Public License, section 13, concerning interaction network apply combination .","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_14-revised-versions-of-this-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"14. Revised Versions of this License","title":"GNU General Public License","text":"Free Software Foundation may publish revised /new versions GNU General Public License time time. new versions similar spirit present version, may differ detail address new problems concerns. version given distinguishing version number. Program specifies certain numbered version GNU General Public License “later version” applies , option following terms conditions either numbered version later version published Free Software Foundation. Program specify version number GNU General Public License, may choose version ever published Free Software Foundation. Program specifies proxy can decide future versions GNU General Public License can used, proxy’s public statement acceptance version permanently authorizes choose version Program. Later license versions may give additional different permissions. However, additional obligations imposed author copyright holder result choosing follow later version.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_15-disclaimer-of-warranty","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"15. Disclaimer of Warranty","title":"GNU General Public License","text":"WARRANTY PROGRAM, EXTENT PERMITTED APPLICABLE LAW. EXCEPT OTHERWISE STATED WRITING COPYRIGHT HOLDERS /PARTIES PROVIDE PROGRAM “” WITHOUT WARRANTY KIND, EITHER EXPRESSED IMPLIED, INCLUDING, LIMITED , IMPLIED WARRANTIES MERCHANTABILITY FITNESS PARTICULAR PURPOSE. ENTIRE RISK QUALITY PERFORMANCE PROGRAM . PROGRAM PROVE DEFECTIVE, ASSUME COST NECESSARY SERVICING, REPAIR CORRECTION.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_16-limitation-of-liability","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"16. Limitation of Liability","title":"GNU General Public License","text":"EVENT UNLESS REQUIRED APPLICABLE LAW AGREED WRITING COPYRIGHT HOLDER, PARTY MODIFIES /CONVEYS PROGRAM PERMITTED , LIABLE DAMAGES, INCLUDING GENERAL, SPECIAL, INCIDENTAL CONSEQUENTIAL DAMAGES ARISING USE INABILITY USE PROGRAM (INCLUDING LIMITED LOSS DATA DATA RENDERED INACCURATE LOSSES SUSTAINED THIRD PARTIES FAILURE PROGRAM OPERATE PROGRAMS), EVEN HOLDER PARTY ADVISED POSSIBILITY DAMAGES.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"id_17-interpretation-of-sections-15-and-16","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"17. Interpretation of Sections 15 and 16","title":"GNU General Public License","text":"disclaimer warranty limitation liability provided given local legal effect according terms, reviewing courts shall apply local law closely approximates absolute waiver civil liability connection Program, unless warranty assumption liability accompanies copy Program return fee. END TERMS CONDITIONS","code":""},{"path":"https://jdenn0514.github.io/surveytidy/LICENSE.html","id":"how-to-apply-these-terms-to-your-new-programs","dir":"","previous_headings":"","what":"How to Apply These Terms to Your New Programs","title":"GNU General Public License","text":"develop new program, want greatest possible use public, best way achieve make free software everyone can redistribute change terms. , attach following notices program. safest attach start source file effectively state exclusion warranty; file least “copyright” line pointer full notice found. Also add information contact electronic paper mail. program terminal interaction, make output short notice like starts interactive mode: hypothetical commands show w show c show appropriate parts General Public License. course, program’s commands might different; GUI interface, use “box”. also get employer (work programmer) school, , sign “copyright disclaimer” program, necessary. information , apply follow GNU GPL, see <http://www.gnu.org/licenses/>. GNU General Public License permit incorporating program proprietary programs. program subroutine library, may consider useful permit linking proprietary applications library. want , use GNU Lesser General Public License instead License. first, please read <http://www.gnu.org/philosophy/--lgpl.html>.","code":"<one line to give the program's name and a brief idea of what it does.> Copyright (C) <year>  <name of author>  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>. <program>  Copyright (C) <year>  <name of author> This program comes with ABSOLUTELY NO WARRANTY; for details type 'show w'. This is free software, and you are welcome to redistribute it under certain conditions; type 'show c' for details."},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/PULL_REQUEST_TEMPLATE.html","id":"checklist","dir":"","previous_headings":"","what":"Checklist","title":"NA","text":"Tests written passing (devtools::test()) R CMD check: 0 errors, 0 warnings (devtools::check()) Roxygen docs updated devtools::document() run plans/error-messages.md updated (new errors/warnings added) PR title valid Conventional Commit (feat(scope): description)","code":""},{"path":"https://jdenn0514.github.io/surveytidy/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jacob Dennen. Author, maintainer.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Dennen J (2026). surveytidy: Tidy dplyr/tidyr Verbs Survey Design Objects. R package version 0.1.0, https://jdenn0514.github.io/surveytidy/.","code":"@Manual{,   title = {surveytidy: Tidy dplyr/tidyr Verbs for Survey Design Objects},   author = {Jacob Dennen},   year = {2026},   note = {R package version 0.1.0},   url = {https://jdenn0514.github.io/surveytidy/}, }"},{"path":"https://jdenn0514.github.io/surveytidy/index.html","id":"surveytidy","dir":"","previous_headings":"","what":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","title":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","text":"surveytidy provides dplyr tidyr verbs survey design objects created surveycore package. makes survey analysis feel natural tidyverse users. Full documentation https://jdenn0514.github.io/surveytidy/.","code":"library(surveycore) library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union library(surveytidy)  # Build a survey design from the 2025 Pew NPORS survey d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Use familiar dplyr verbs — survey design is preserved automatically young_adults <- d |>   # use filter to perform domain estimation (18–29 year olds)   filter(agecat == 1) |>   # keep only the columns of interest   select(agecat, gender, partysum, fin_sit) |>   # group by gender   group_by(gender) |>   # flag respondents reporting financial difficulty   mutate(struggling = as.integer(fin_sit >= 3))"},{"path":"https://jdenn0514.github.io/surveytidy/index.html","id":"key-idea-filter-marks-rows-never-removes-them","dir":"","previous_headings":"","what":"Key idea: filter() marks rows, never removes them","title":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","text":"important statistical feature surveytidy filter() uses domain estimation rather physical subsetting: call filter(), surveytidy writes logical column ..surveycore_domain.. data. Phase 1 estimation functions read column restrict calculations domain retaining rows correct variance estimation. Simply put, calculates variance subpopulations correctly.","code":"# This keeps all 5,022 rows — variance estimation stays correct republicans <- d |> filter(partysum == 1) nrow(republicans@data) #> 5022 #> [1] 5022  # This physically removes rows — variance estimates would be wrong wrong <- subset(d, partysum == 1) # issues a warning #> Warning: ! `subset()` physically removes rows from the survey data. #> ℹ This is different from `filter()`, which preserves all rows for correct #>   variance estimation. #> ✔ Use `filter()` for subpopulation analyses instead."},{"path":"https://jdenn0514.github.io/surveytidy/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","text":"","code":"# install.packages(\"pak\") # install surveycore first, to create surveycore style survey objects pak::pak(\"JDenn0514/surveycore\") # install surveytidy pak::pak(\"JDenn0514/surveytidy\")"},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/index.html","id":"filtering-domain-estimation","dir":"","previous_headings":"Usage","what":"Filtering (domain estimation)","title":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","text":"","code":"# Single condition republicans <- d |> filter(partysum == 1)  # Chained filters AND the conditions together rep_women <- d |>   filter(partysum == 1) |>   filter(gender == 2)  # Equivalent — both produce identical domain columns rep_women2 <- d |> filter(partysum == 1, gender == 2)"},{"path":"https://jdenn0514.github.io/surveytidy/index.html","id":"selecting-columns","dir":"","previous_headings":"Usage","what":"Selecting columns","title":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","text":"","code":"# Design variables (weights, strata) are always kept in @data # even when not selected — they are required for variance estimation d2 <- select(d, party, gender, agecat, cregion)  # Design variables are hidden from print() but still present in @data print(d2) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 4 #>    party gender agecat cregion #>    <dbl>  <dbl>  <dbl>   <dbl> #>  1     3      2      4       4 #>  2     2      1      4       4 #>  3     1      2      4       4 #>  4     1      1      2       2 #>  5     1      1      4       1 #>  6     1      1      4       2 #>  7     3      1      3       3 #>  8     3      2      4       4 #>  9     3      2      3       3 #> 10     2      2      2       4 #> # ℹ 5,012 more rows #>  #> ℹ Design variables preserved but hidden: weight and stratum. #> ℹ Use `print(x, full = TRUE)` to show all variables."},{"path":"https://jdenn0514.github.io/surveytidy/index.html","id":"mutating","dir":"","previous_headings":"Usage","what":"Mutating","title":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","text":"","code":"# Add new columns d |>   mutate(     economy_poor = as.integer(econ1mod >= 3),     south = as.integer(cregion == 3)   ) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 67 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 60 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Modifying a design variable warns you d |> mutate(weight = weight * 0.5) #> Warning: ! mutate() modified design variable(s): weight. #> ℹ The survey design has been updated to reflect the new values. #> ✔ Use `update_design()` if you intend to modify design variables. Modifying #>   them via `mutate()` may produce unexpected variance estimates. #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, … #> Warning: mutate() modified design variable(s): `weight`  # Grouped mutate via group_by() d |>   group_by(partysum) |>   mutate(econ_rank = rank(econ1mod) / n()) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #> Groups: partysum #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/index.html","id":"renaming","dir":"","previous_headings":"Usage","what":"Renaming","title":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","text":"","code":"# @variables and @metadata stay in sync automatically d |>   rename(     party_affiliation = partysum,     age_group = agecat   ) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/index.html","id":"sorting","dir":"","previous_headings":"Usage","what":"Sorting","title":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","text":"","code":"# Rows sort; domain column moves with them d |>   filter(partysum == 1) |>   arrange(agecat) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1  13673     1        1               9      10 2025-03-02      2025-03-02    #>  2   9247     1        1               9       7 2025-03-03      2025-03-03    #>  3  14402     1        1               9      10 2025-03-09      2025-03-09    #>  4   2820     1        1               9       9 2025-02-24      2025-02-24    #>  5  12802     1        1               9       6 2025-02-24      2025-02-24    #>  6   7003     1        1               9       7 2025-02-25      2025-02-25    #>  7   8391     1        2              10       7 2025-03-14      2025-03-14    #>  8   2499     1        1               9      10 2025-02-25      2025-02-25    #>  9     80     1        1               9       1 2025-03-12      2025-03-12    #> 10   5357     1        1               9      10 2025-03-15      2025-03-15    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Sort by group first, then by value within group d |>   group_by(partysum) |>   arrange(agecat, .by_group = TRUE) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #> Groups: partysum #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1  14402     1        1               9      10 2025-03-09      2025-03-09    #>  2   8391     1        2              10       7 2025-03-14      2025-03-14    #>  3   2499     1        1               9      10 2025-02-25      2025-02-25    #>  4     80     1        1               9       1 2025-03-12      2025-03-12    #>  5   5357     1        1               9      10 2025-03-15      2025-03-15    #>  6  10841     1        1               9       5 2025-03-25      2025-03-25    #>  7   8646     1        2               9       8 2025-02-28      2025-02-28    #>  8   5576     1        1               9      10 2025-02-27      2025-02-27    #>  9  11753     2        1              NA       5 2025-05-01      2025-05-01    #> 10  17387     2        1              NA       7 2025-05-27      2025-05-27    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/index.html","id":"grouping","dir":"","previous_headings":"Usage","what":"Grouping","title":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","text":"","code":"d2 <- group_by(d, partysum) # set groups d3 <- group_by(d2, gender, .add = TRUE) # add to groups d4 <- ungroup(d3) # remove all groups"},{"path":"https://jdenn0514.github.io/surveytidy/index.html","id":"physical-row-operations-use-sparingly","dir":"","previous_headings":"Usage","what":"Physical row operations (use sparingly)","title":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","text":"","code":"# These physically remove rows and always issue a warning. # Use filter() instead for subpopulation analyses. slice_head(d, n = 100) # first 100 rows #> Warning: ! `slice_head()` physically removes rows from the survey data. #> ℹ This is different from `filter()`, which preserves all rows for correct #>   variance estimation. #> ✔ Use `filter()` for subpopulation analyses instead. #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 100 #>  #> # A tibble: 100 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 90 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, … subset(d, !is.na(fin_sit)) # remove rows with NA in fin_sit #> Warning: ! `subset()` physically removes rows from the survey data. #> ℹ This is different from `filter()`, which preserves all rows for correct #>   variance estimation. #> ✔ Use `filter()` for subpopulation analyses instead. #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/index.html","id":"relationship-to-surveycore","dir":"","previous_headings":"","what":"Relationship to surveycore","title":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","text":"surveytidy add-layer. surveycore provides: S7 survey design classes (survey_taylor, survey_replicate, survey_twophase) Constructors (as_survey(), as_survey_rep(), as_survey_twophase()) Metadata system (variable labels, value labels, question prefaces) surveytidy provides dplyr/tidyr interface top classes. Phase 1 (development) add estimation functions (get_mean(), get_total(), etc.) respect domain column @groups set surveytidy verbs.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"surveytidy — Tidy dplyr/tidyr Verbs for Survey Design Objects","text":"GPL-3","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/arrange.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Order rows using column values — arrange.survey_base","title":"Order rows using column values — arrange.survey_base","text":"arrange() orders rows survey_base object values selected columns. Unlike verbs, arrange() largely ignores grouping — use .by_group = TRUE sort grouping variables first.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/arrange.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Order rows using column values — arrange.survey_base","text":"","code":"arrange.survey_base(.data, ..., .by_group = FALSE, .locale = NULL)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/arrange.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Order rows using column values — arrange.survey_base","text":".data survey_base object. ... <data-masking> Variables, functions variables. Use dplyr::desc() sort variable descending order. .by_group TRUE, sorts first grouping variables set group_by(). .locale locale use ordering strings. NULL, uses \"C\" locale. See stringi::locale() available locales.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/arrange.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Order rows using column values — arrange.survey_base","text":"object type .data following properties: rows appear output, usually different position. Columns modified. Groups modified. Survey design attributes preserved.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/arrange.survey_base.html","id":"missing-values","dir":"Reference","previous_headings":"","what":"Missing values","title":"Order rows using column values — arrange.survey_base","text":"Unlike base sort(), NA values always sorted end, even using dplyr::desc().","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/arrange.survey_base.html","id":"domain-column","dir":"Reference","previous_headings":"","what":"Domain column","title":"Order rows using column values — arrange.survey_base","text":"domain column moves rows — row reordering affect rows survey domain.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/arrange.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Order rows using column values — arrange.survey_base","text":"","code":"library(surveytidy) library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Sort by age category ascending arrange(d, agecat) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1  13673     1        1               9      10 2025-03-02      2025-03-02    #>  2   9247     1        1               9       7 2025-03-03      2025-03-03    #>  3  14402     1        1               9      10 2025-03-09      2025-03-09    #>  4   2820     1        1               9       9 2025-02-24      2025-02-24    #>  5  12802     1        1               9       6 2025-02-24      2025-02-24    #>  6   7003     1        1               9       7 2025-02-25      2025-02-25    #>  7   8391     1        2              10       7 2025-03-14      2025-03-14    #>  8   2499     1        1               9      10 2025-02-25      2025-02-25    #>  9     80     1        1               9       1 2025-03-12      2025-03-12    #> 10   5357     1        1               9      10 2025-03-15      2025-03-15    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Sort by age category descending arrange(d, dplyr::desc(agecat)) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1  17184     1        1               9      10 2025-02-24      2025-02-24    #>  2   3144     1        1               9      10 2025-02-26      2025-02-26    #>  3  10038     1        1               9      10 2025-02-24      2025-02-24    #>  4  17831     1        1               9      10 2025-02-27      2025-02-27    #>  5   3251     1        1               9       2 2025-03-10      2025-03-10    #>  6  17144     1        2               9       3 2025-02-27      2025-02-27    #>  7   2383     1        1               9      10 2025-02-25      2025-02-25    #>  8   7856     1        1               9      10 2025-03-18      2025-03-18    #>  9   2301     3        1              10       6 2025-03-25      2025-03-25    #> 10   2206     1        1               9      10 2025-04-01      2025-04-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Sort by multiple variables arrange(d, gender, dplyr::desc(agecat)) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1  10038     1        1               9      10 2025-02-24      2025-02-24    #>  2  17831     1        1               9      10 2025-02-27      2025-02-27    #>  3   2301     3        1              10       6 2025-03-25      2025-03-25    #>  4   2206     1        1               9      10 2025-04-01      2025-04-01    #>  5  15100     1        1               9      10 2025-02-22      2025-02-22    #>  6  17489     1        1               9      10 2025-03-03      2025-03-03    #>  7  18269     1        1               9       9 2025-03-09      2025-03-09    #>  8   8270     1        1               9       8 2025-03-21      2025-03-21    #>  9  12606     1        1               9      10 2025-03-05      2025-03-05    #> 10  13052     1        1               9      10 2025-03-28      2025-03-28    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Sort by grouping variables first d_grouped <- group_by(d, gender) arrange(d_grouped, .by_group = TRUE, agecat) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #> Groups: gender #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1  13673     1        1               9      10 2025-03-02      2025-03-02    #>  2   9247     1        1               9       7 2025-03-03      2025-03-03    #>  3   2499     1        1               9      10 2025-02-25      2025-02-25    #>  4  10841     1        1               9       5 2025-03-25      2025-03-25    #>  5   5576     1        1               9      10 2025-02-27      2025-02-27    #>  6  11753     2        1              NA       5 2025-05-01      2025-05-01    #>  7  16776     2        1              NA      10 2025-05-02      2025-05-02    #>  8  11751     1        1               9       9 2025-02-28      2025-02-28    #>  9  14386     1        1               9       7 2025-02-24      2025-02-24    #> 10   8965     2        1              NA       2 2025-05-20      2025-05-20    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/reference/distinct.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove duplicate rows from a survey design object — distinct.survey_base","title":"Remove duplicate rows from a survey design object — distinct.survey_base","text":"distinct() physically removes duplicate rows survey design object, always issuing surveycore_warning_physical_subset. Unlike dplyr::distinct(), columns @data retained regardless columns specified ... — design variables must never lost survey object. subpopulation analyses, use filter() instead — marks rows --domain without removing , preserving valid variance estimation.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/distinct.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove duplicate rows from a survey design object — distinct.survey_base","text":"","code":"distinct.survey_base(.data, ..., .keep_all = FALSE)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/distinct.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove duplicate rows from a survey design object — distinct.survey_base","text":".data survey_base object. ... <data-masking> Optional columns used determine uniqueness. empty, non-design columns used. Note: .keep_all always TRUE regardless specified . .keep_all Accepted interface compatibility; effect. survey implementation always retains columns @data.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/distinct.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove duplicate rows from a survey design object — distinct.survey_base","text":"object class .data following properties: Rows physically reduced distinct subset (fewer rows possible). columns @data retained (.keep_all = TRUE always). @variables$visible_vars unchanged — distinct pure row operation. @metadata unchanged. @groups unchanged. Always issues surveycore_warning_physical_subset.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/distinct.survey_base.html","id":"column-retention","dir":"Reference","previous_headings":"","what":"Column retention","title":"Remove duplicate rows from a survey design object — distinct.survey_base","text":"distinct() always behaves .keep_all = TRUE. Specifying columns ... controls columns determine uniqueness — control columns appear result. deliberate divergence dplyr::distinct(df, x, y) default drops columns except x y.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/distinct.survey_base.html","id":"default-deduplication-empty-","dir":"Reference","previous_headings":"","what":"Default deduplication (empty ...)","title":"Remove duplicate rows from a survey design object — distinct.survey_base","text":"... empty, deduplication uses non-design columns. Design variables (strata, PSU, weights, FPC) excluded uniqueness check — deduplicating produce meaningless survey-corrupting results.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/distinct.survey_base.html","id":"design-variable-warning","dir":"Reference","previous_headings":"","what":"Design variable warning","title":"Remove duplicate rows from a survey design object — distinct.survey_base","text":"... includes design variable, surveytidy_warning_distinct_design_var issued operation. operation still proceeds warning — user assumed know .","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/distinct.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove duplicate rows from a survey design object — distinct.survey_base","text":"","code":"library(surveytidy) library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Deduplicate on all non-design columns (issues physical-subset warning) distinct(d) #> Warning: ! `distinct()` physically removes rows from the survey data. #> ℹ This is different from `filter()`, which preserves all rows for correct #>   variance estimation. #> ✔ Use `filter()` for subpopulation analyses instead. #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Deduplicate by one column (all other columns still retained) distinct(d, cregion) #> Warning: ! `distinct()` physically removes rows from the survey data. #> ℹ This is different from `filter()`, which preserves all rows for correct #>   variance estimation. #> ✔ Use `filter()` for subpopulation analyses instead. #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 4 #>  #> # A tibble: 4 × 65 #>   respid  mode language languageinitial stratum interview_start interview_end #>    <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #> 1   1470     2        1              NA      10 2025-05-27      2025-05-27    #> 2  15459     2        1              NA      10 2025-05-05      2025-05-05    #> 3   9849     1        1               9       9 2025-02-22      2025-02-22    #> 4   3682     1        1               9       4 2025-02-27      2025-02-27    #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, #> #   smuse_bsk <dbl>, smuse_th <dbl>, smuse_ts <dbl>, radio <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/reference/drop_na.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Mark rows with missing values as out-of-domain — drop_na.survey_base","title":"Mark rows with missing values as out-of-domain — drop_na.survey_base","text":"drop_na() marks rows specified columns contain NA --domain, without removing . columns specified, NA column marks row --domain. domain-aware equivalent tidyr's drop_na(): rather physically dropping rows, applies filter() !.na() conditions, preserving rows correct variance estimation.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/drop_na.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mark rows with missing values as out-of-domain — drop_na.survey_base","text":"","code":"drop_na.survey_base(data, ...)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/drop_na.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mark rows with missing values as out-of-domain — drop_na.survey_base","text":"data survey_base object. ... <tidy-select> Columns inspect NA. empty, columns checked.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/drop_na.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mark rows with missing values as out-of-domain — drop_na.survey_base","text":"object type data following properties: Rows added removed. Rows selected columns contain NA marked --domain. Columns survey design attributes unchanged.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/drop_na.survey_base.html","id":"chaining","dir":"Reference","previous_headings":"","what":"Chaining","title":"Mark rows with missing values as out-of-domain — drop_na.survey_base","text":"Successive drop_na() calls conditions together, accumulate filter() calls . equivalent:","code":"drop_na(d, bpxsy1) |> filter(ridageyr >= 18) filter(d, !is.na(bpxsy1), ridageyr >= 18)"},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/drop_na.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mark rows with missing values as out-of-domain — drop_na.survey_base","text":"","code":"library(surveytidy) library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Mark rows with NA in votegen_post as out-of-domain drop_na(d, votegen_post) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Mark rows with NA in either social media column drop_na(d, smuse_fb, smuse_yt) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # No columns specified — any NA in any column marks the row out-of-domain drop_na(d) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/reference/filter.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Keep or drop rows using domain estimation — filter.survey_base","title":"Keep or drop rows using domain estimation — filter.survey_base","text":"filter() filter_out() mark rows survey domain without removing . Unlike standard data frame filter, rows always retained — domain status changes. Estimation functions restrict analysis -domain rows using full design variance estimation. filter() marks rows matching condition -domain. filter_out() marks rows matching condition --domain — complement filter(), reads naturally intent exclusion.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/filter.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Keep or drop rows using domain estimation — filter.survey_base","text":"","code":"filter.survey_base(.data, ..., .by = NULL, .preserve = FALSE)  filter_out.survey_base(.data, ..., .by = NULL, .preserve = FALSE)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/filter.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Keep or drop rows using domain estimation — filter.survey_base","text":".data survey_base object. ... <data-masking> Logical conditions evaluated survey data. Multiple conditions combined &. NA results treated FALSE. .supported survey objects. Use group_by() add grouping. .preserve Ignored. Included compatibility dplyr generic.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/filter.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Keep or drop rows using domain estimation — filter.survey_base","text":"object type .data following properties: rows appear output. Domain status row may updated. Columns modified. Groups modified. Survey design attributes preserved.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/filter.survey_base.html","id":"chaining","dir":"Reference","previous_headings":"","what":"Chaining","title":"Keep or drop rows using domain estimation — filter.survey_base","text":"Multiple calls accumulate via : row must satisfy every condition remain -domain. equivalent:","code":"filter(d, ridageyr >= 18, riagendr == 2) filter(d, ridageyr >= 18) |> filter(riagendr == 2)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/filter.survey_base.html","id":"missing-values","dir":"Reference","previous_headings":"","what":"Missing values","title":"Keep or drop rows using domain estimation — filter.survey_base","text":"Unlike base [, functions treat NA FALSE: rows condition evaluates NA treated --domain.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/filter.survey_base.html","id":"useful-filter-functions","dir":"Reference","previous_headings":"","what":"Useful filter functions","title":"Keep or drop rows using domain estimation — filter.survey_base","text":"Comparisons: ==, >, >=, <, <=, != Logical: &, |, !, xor() Missing values: .na() Range: dplyr::(), dplyr::near() Multi-column: dplyr::if_any(), dplyr::if_all()","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/filter.survey_base.html","id":"inspecting-the-domain","dir":"Reference","previous_headings":"","what":"Inspecting the domain","title":"Keep or drop rows using domain estimation — filter.survey_base","text":"domain status row stored ..surveycore_domain.. column @data. TRUE means -domain; FALSE means --domain.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/filter.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Keep or drop rows using domain estimation — filter.survey_base","text":"","code":"library(surveytidy) library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Keep adults 50 and older filter(d, agecat >= 3) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Multiple conditions are AND-ed together filter(d, agecat >= 3, gender == 2) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # filter_out() excludes matching rows — complement of filter() filter_out(d, agecat == 1) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Chained calls accumulate (these are equivalent) filter(d, agecat >= 3, gender == 2) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, … filter(d, agecat >= 3) |> filter(gender == 2) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Multi-column conditions with if_any() and if_all() filter(d, dplyr::if_any(c(smuse_fb, smuse_yt), ~ !is.na(.x))) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, … filter(d, dplyr::if_all(c(smuse_fb, smuse_yt), ~ !is.na(.x))) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/reference/glimpse.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a glimpse of a survey design object — glimpse.survey_base","title":"Get a glimpse of a survey design object — glimpse.survey_base","text":"Print transposed summary survey object's columns — column names run left, data types values run across. Respects select(): columns selected, columns shown; design variables hidden display.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/glimpse.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a glimpse of a survey design object — glimpse.survey_base","text":"","code":"glimpse.survey_base(x, width = NULL, ...)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/glimpse.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a glimpse of a survey design object — glimpse.survey_base","text":"x survey_base object. width Width output. Defaults console width. ... Passed dplyr::glimpse().","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/glimpse.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a glimpse of a survey design object — glimpse.survey_base","text":"x invisibly.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/glimpse.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a glimpse of a survey design object — glimpse.survey_base","text":"","code":"library(surveytidy) library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Glimpse all columns glimpse(d) #> Rows: 5,022 #> Columns: 65 #> $ respid            <dbl> 1470, 2374, 1177, 15459, 9849, 8178, 3682, 6999, 994… #> $ mode              <dbl> 2, 2, 3, 2, 1, 3, 1, 2, 2, 1, 2, 2, 2, 1, 2, 2, 1, 1… #> $ language          <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1… #> $ languageinitial   <dbl> NA, NA, 10, NA, 9, 9, 9, NA, NA, 9, NA, NA, NA, 9, N… #> $ stratum           <dbl> 10, 7, 5, 10, 9, 10, 4, 10, 10, 10, 10, 10, 9, 10, 9… #> $ interview_start   <date> 2025-05-27, 2025-05-01, 2025-03-04, 2025-05-05, 202… #> $ interview_end     <date> 2025-05-27, 2025-05-01, 2025-03-04, 2025-05-05, 202… #> $ econ1mod          <dbl> 4, 3, 2, 3, 2, 2, 3, 3, 3, 1, 2, 2, 4, 4, 2, 4, 2, 3… #> $ econ1bmod         <dbl> 2, 2, 1, 3, 1, 2, 2, 3, 2, 1, 3, 3, 3, 2, 1, 2, 3, 3… #> $ comtype2          <dbl> 3, 1, 3, 3, 2, 1, 1, 3, 3, 2, 3, 1, 1, 3, 2, 1, 2, 1… #> $ unity             <dbl> 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 1, 2… #> $ crimesafe         <dbl> 2, 3, 2, 2, 3, 2, 3, 3, 3, 2, 3, 2, 2, 2, 2, 2, 2, 4… #> $ govprotct         <dbl> 2, 1, 1, 2, 1, 1, 2, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2… #> $ moregunimpact     <dbl> 1, 3, 2, 3, 2, 2, 1, 3, 2, 2, 3, 3, 2, 3, 3, 1, 1, 3… #> $ fin_sit           <dbl> 3, 3, 3, 4, 1, 1, 2, 2, 3, 2, 2, 2, 4, 3, 3, 1, 2, 2… #> $ vet1              <dbl> 4, 4, 4, 4, 4, 4, 2, 4, 4, 4, 2, 4, 4, 4, 4, 4, 4, 1… #> $ vol12_cps         <dbl> 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 2, 1, 2, 2… #> $ eminuse           <dbl> 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1… #> $ intmob            <dbl> 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1… #> $ intfreq           <dbl> 2, 2, 2, 2, 2, 6, 2, 3, 1, 2, 1, 2, 2, 1, 2, 1, 1, 2… #> $ intfreq_collapsed <dbl> 2, 2, 2, 2, 2, 4, 2, 3, 1, 2, 1, 2, 2, 1, 2, 1, 1, 2… #> $ home4nw2          <dbl> 1, 1, 1, 2, 1, NA, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … #> $ bbhome            <dbl> 2, 2, 2, NA, 2, NA, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,… #> $ smuse_fb          <dbl> 2, 1, 1, 2, 1, NA, 1, 1, 1, 1, 1, 2, 1, 1, 2, 2, 1, … #> $ smuse_yt          <dbl> 1, 1, 1, 1, 1, NA, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, … #> $ smuse_x           <dbl> 2, 2, 1, 2, 1, NA, 2, 1, 2, 2, 2, 2, 2, 1, 2, 2, 1, … #> $ smuse_ig          <dbl> 2, 1, 1, 2, 1, NA, 1, 2, 2, 1, 2, 2, 1, 1, 2, 1, 1, … #> $ smuse_sc          <dbl> 2, 2, 2, 2, 1, NA, 2, 2, 1, 1, 1, 2, 2, 2, 2, 2, 1, … #> $ smuse_wa          <dbl> 2, 2, 1, 2, 2, NA, 1, 2, 2, 1, 2, 2, 2, 2, 2, 1, 1, … #> $ smuse_tt          <dbl> 2, 1, 2, 2, 2, NA, 2, 2, 2, 2, 1, 2, 2, 1, 2, 1, 1, … #> $ smuse_rd          <dbl> 1, 2, 2, 2, 2, NA, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, … #> $ smuse_bsk         <dbl> 2, 2, 2, 2, 2, NA, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, … #> $ smuse_th          <dbl> 2, 2, 2, 2, 2, NA, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, … #> $ smuse_ts          <dbl> 2, 2, 1, 2, 2, NA, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, … #> $ radio             <dbl> 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2… #> $ device1a          <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1… #> $ smart2            <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1… #> $ nhisll            <dbl> 2, 2, 2, 2, 2, 1, 1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2… #> $ relig             <dbl> 12, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1, 1, 12, 1, 2, 2, 6,… #> $ religcat1         <dbl> 3, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1, 1, 3, 1, 2, 2, 4, 3… #> $ born              <dbl> 2, 2, 1, 2, 1, 2, 2, 2, 1, 2, 1, 2, 2, 1, 2, 2, 2, 2… #> $ attendper         <dbl> 6, 6, 5, 5, 2, 4, 4, 5, 1, 5, 3, 4, 6, 2, 5, 2, 2, 6… #> $ attendonline2     <dbl> 6, 6, 1, 5, 4, 6, 6, 6, 3, 3, 5, 3, 6, 3, 5, 6, 1, 6… #> $ relimp            <dbl> 4, 3, 1, 1, 1, 4, 1, 2, 1, 2, 1, 1, 4, 1, 2, 1, 1, 4… #> $ pray              <dbl> 7, 6, 2, 2, 1, 6, 2, 2, 1, 2, 2, 3, 7, 1, 2, 1, 4, 6… #> $ educcat           <dbl> 1, 2, 2, 2, 1, 1, 1, 2, 1, 2, 1, 1, 2, 1, 2, 1, 1, 3… #> $ registration      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1… #> $ party             <dbl> 3, 2, 1, 1, 1, 1, 3, 3, 3, 2, 1, 1, 2, 1, 1, 2, 3, 2… #> $ partyln           <dbl> 2, NA, NA, NA, NA, NA, 2, 1, 1, NA, NA, NA, NA, NA, … #> $ partysum          <dbl> 2, 2, 1, 1, 1, 1, 2, 1, 1, 2, 1, 1, 2, 1, 1, 2, 2, 2… #> $ hisp              <dbl> 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 1, 2, 2, 1, 2, 2… #> $ racecmb           <dbl> 4, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 5, 1, 1, 1, 3, 1… #> $ racethn           <dbl> 4, 2, 1, 1, 1, 1, 2, 1, 1, 3, 1, 1, 3, 1, 1, 3, 5, 1… #> $ agegrp            <dbl> 11, 10, 10, 6, 10, 13, 7, 13, 9, 6, 8, 11, 7, 7, 11,… #> $ agecat            <dbl> 4, 4, 4, 2, 4, 4, 3, 4, 3, 2, 3, 4, 3, 3, 4, 2, 1, 4… #> $ birthplace        <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 1… #> $ gender            <dbl> 2, 1, 2, 1, 1, 1, 1, 2, 2, 2, 2, 2, 1, 2, 1, 2, 1, 1… #> $ adults            <dbl> 1, 4, 2, 2, 4, 2, 3, 2, 2, 3, 3, 1, 99, 3, 1, 2, 2, … #> $ voted2024         <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1… #> $ votegen_post      <dbl> 2, 2, 1, 1, 1, 99, 2, 1, 1, 2, 3, 1, 2, 1, 1, 2, NA,… #> $ inc_sdt1          <dbl> 2, 5, 2, 1, 8, 99, 6, 5, 4, 7, 4, 4, 3, 5, 1, 8, 5, … #> $ cregion           <dbl> 4, 4, 4, 2, 1, 2, 3, 4, 3, 4, 3, 3, 4, 3, 1, 3, 1, 3… #> $ metro             <dbl> 1, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1… #> $ basewt            <dbl> 0.8022005, 0.5324945, 1.2496416, 1.6044009, 0.676350… #> $ weight            <dbl> 0.4970381, 0.3070815, 0.6468503, 1.3112448, 0.241760…  # After select(), shows only the selected columns d |>   select(gender, agecat, partysum) |>   glimpse() #> Rows: 5,022 #> Columns: 3 #> $ gender   <dbl> 2, 1, 2, 1, 1, 1, 1, 2, 2, 2, 2, 2, 1, 2, 1, 2, 1, 1, 2, 2, 2… #> $ agecat   <dbl> 4, 4, 4, 2, 4, 4, 3, 4, 3, 2, 3, 4, 3, 3, 4, 2, 1, 4, 2, 2, 4… #> $ partysum <dbl> 2, 2, 1, 1, 1, 1, 2, 1, 1, 2, 1, 1, 2, 1, 1, 2, 2, 2, 2, 2, 1…"},{"path":"https://jdenn0514.github.io/surveytidy/reference/group_by.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Group and ungroup a survey design object — group_by.survey_base","title":"Group and ungroup a survey design object — group_by.survey_base","text":"group_by() stores grouping columns survey object use grouped operations like mutate(). ungroup() removes grouping. group_vars() returns current grouping column names. Unlike dplyr, groups attached underlying data frame — stored survey object applied needed verbs support grouping.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/group_by.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Group and ungroup a survey design object — group_by.survey_base","text":"","code":"group_by.survey_base(   .data,   ...,   .add = FALSE,   .drop = dplyr::group_by_drop_default(.data) )  ungroup.survey_base(x, ...)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/group_by.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Group and ungroup a survey design object — group_by.survey_base","text":".data survey_base object. ... <data-masking> group_by(): columns group . Computed expressions (e.g., cut(ridageyr, breaks = c(0, 18, 65, Inf))) supported. ungroup(): columns remove current grouping. Omit remove groups. .add FALSE (default), replaces existing groups. Use .add = TRUE add current grouping instead. .drop Accepted compatibility dplyr interface; effect survey design objects. x survey_base object (ungroup() group_vars()).","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/group_by.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Group and ungroup a survey design object — group_by.survey_base","text":"object type input following properties: Rows, columns, survey design attributes unchanged. group_by(): grouping columns set updated; rowwise keys cleared. ungroup(): specified grouping columns removed; rowwise keys cleared full ungroup . group_vars(): character vector current grouping column names.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/group_by.survey_base.html","id":"grouped-operations","dir":"Reference","previous_headings":"","what":"Grouped operations","title":"Group and ungroup a survey design object — group_by.survey_base","text":"calling group_by(), mutate() computes within groups. Future estimation functions also use grouping perform stratified analysis.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/group_by.survey_base.html","id":"adding-to-existing-groups","dir":"Reference","previous_headings":"","what":"Adding to existing groups","title":"Group and ungroup a survey design object — group_by.survey_base","text":"default, group_by() replaces existing groups. Use .add = TRUE append current grouping instead.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/group_by.survey_base.html","id":"rowwise-mode-and-group-by-","dir":"Reference","previous_headings":"","what":"Rowwise mode and group_by()","title":"Group and ungroup a survey design object — group_by.survey_base","text":"group_by(.add = FALSE) (default) exits rowwise mode — clears @variables$rowwise @variables$rowwise_id_cols. group_by(.add = TRUE) design rowwise promotes rowwise id columns @groups, appends new groups, clears rowwise mode — mirroring dplyr's behaviour exactly.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/group_by.survey_base.html","id":"partial-ungroup","dir":"Reference","previous_headings":"","what":"Partial ungroup","title":"Group and ungroup a survey design object — group_by.survey_base","text":"ungroup() arguments removes groups exits rowwise mode. column arguments, removes specified columns grouping — rowwise mode affected.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/group_by.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Group and ungroup a survey design object — group_by.survey_base","text":"","code":"library(surveytidy) library(surveycore) library(dplyr) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Group by a column group_by(d, gender) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #> Groups: gender #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Grouped mutate — within-group mean centring d |>   group_by(gender) |>   mutate(econ_centred = econ1mod - mean(econ1mod, na.rm = TRUE)) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #> Groups: gender #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Add a second grouping variable with .add = TRUE d |>   group_by(gender) |>   group_by(cregion, .add = TRUE) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #> Groups: gender and cregion #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Remove all groups d |> group_by(gender) |> ungroup() #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Partial ungroup — remove only gender, keep cregion d |>   group_by(gender, cregion) |>   ungroup(gender) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #> Groups: cregion #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Get current grouping column names d |> group_by(gender, cregion) |> group_vars() #> [1] \"gender\"  \"cregion\""},{"path":"https://jdenn0514.github.io/surveytidy/reference/is_grouped.html","id":null,"dir":"Reference","previous_headings":"","what":"Test whether a survey design has active grouping — is_grouped","title":"Test whether a survey design has active grouping — is_grouped","text":"Returns TRUE design one grouping columns set via group_by(). Returns FALSE ungrouped rowwise (grouped) designs.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/is_grouped.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test whether a survey design has active grouping — is_grouped","text":"","code":"is_grouped(design)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/is_grouped.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test whether a survey design has active grouping — is_grouped","text":"design survey_base object.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/is_grouped.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test whether a survey design has active grouping — is_grouped","text":"scalar logical.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/is_grouped.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test whether a survey design has active grouping — is_grouped","text":"","code":"library(surveytidy) library(surveycore) library(dplyr) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  is_grouped(d)                   # FALSE #> [1] FALSE is_grouped(group_by(d, gender)) # TRUE #> [1] TRUE is_grouped(rowwise(d))          # FALSE (rowwise != grouped) #> [1] FALSE"},{"path":"https://jdenn0514.github.io/surveytidy/reference/is_rowwise.html","id":null,"dir":"Reference","previous_headings":"","what":"Test whether a survey design is in rowwise mode — is_rowwise","title":"Test whether a survey design is in rowwise mode — is_rowwise","text":"Returns TRUE design created (passed ) rowwise(). Use predicate estimation functions detect handle (disallow) rowwise mode.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/is_rowwise.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test whether a survey design is in rowwise mode — is_rowwise","text":"","code":"is_rowwise(design)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/is_rowwise.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test whether a survey design is in rowwise mode — is_rowwise","text":"design survey_base object.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/is_rowwise.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test whether a survey design is in rowwise mode — is_rowwise","text":"scalar logical.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/is_rowwise.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test whether a survey design is in rowwise mode — is_rowwise","text":"","code":"library(surveytidy) library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  is_rowwise(d)           # FALSE #> [1] FALSE is_rowwise(rowwise(d))  # TRUE #> [1] TRUE"},{"path":"https://jdenn0514.github.io/surveytidy/reference/mutate.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Create, modify, and delete columns of a survey design object — mutate.survey_base","title":"Create, modify, and delete columns of a survey design object — mutate.survey_base","text":"mutate() adds new columns modifies existing ones preserving survey design structure required valid variance estimation. delegates column computation dplyr::mutate() underlying data. Use NULL value delete column. Design variables (weights, strata, PSUs) deleted way — always preserved.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/mutate.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create, modify, and delete columns of a survey design object — mutate.survey_base","text":"","code":"mutate.survey_base(   .data,   ...,   .by = NULL,   .keep = c(\"all\", \"used\", \"unused\", \"none\"),   .before = NULL,   .after = NULL )"},{"path":"https://jdenn0514.github.io/surveytidy/reference/mutate.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create, modify, and delete columns of a survey design object — mutate.survey_base","text":".data survey_base object. ... <data-masking> Name-value pairs. name gives output column name; value expression evaluated survey data. Use NULL delete non-design column. .used directly. Set grouping group_by() instead. @groups non-empty .NULL (default), active groups applied automatically. .keep columns retain. One \"\" (default), \"used\", \"unused\", \"none\". Design variables always re-attached regardless argument. ., .<tidy-select> Optionally position new columns existing one.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/mutate.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create, modify, and delete columns of a survey design object — mutate.survey_base","text":"object type .data following properties: Rows added removed. Columns retained, modified, removed per ... .keep. Design variables (weights, strata, PSUs) always present. Groups survey design attributes preserved.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/mutate.survey_base.html","id":"design-variable-modification","dir":"Reference","previous_headings":"","what":"Design variable modification","title":"Create, modify, and delete columns of a survey design object — mutate.survey_base","text":"left-hand side mutation names design variable (e.g., mutate(d, wt = wt * 2)), surveytidy_warning_mutate_design_var warning issued. Detection name-based: across() calls happen modify design variables trigger warning.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/mutate.survey_base.html","id":"-keep-and-design-variables","dir":"Reference","previous_headings":"","what":".keep and design variables","title":"Create, modify, and delete columns of a survey design object — mutate.survey_base","text":"Design variables (weights, strata, PSUs, FPC, replicate weights, domain column) always preserved output, regardless .keep. ensures variance estimation remains valid even .keep = \"none\".","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/mutate.survey_base.html","id":"grouped-mutate","dir":"Reference","previous_headings":"","what":"Grouped mutate","title":"Create, modify, and delete columns of a survey design object — mutate.survey_base","text":"Grouping set group_by() respected automatically — leave .= NULL (default) mutate expressions compute within groups. .argument used directly.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/mutate.survey_base.html","id":"useful-mutate-functions","dir":"Reference","previous_headings":"","what":"Useful mutate functions","title":"Create, modify, and delete columns of a survey design object — mutate.survey_base","text":"Arithmetic: +, -, *, /, ^, %%, %/% Rounding: round(), floor(), ceiling(), trunc() Ranking: dplyr::dense_rank(), dplyr::min_rank(), dplyr::row_number() Cumulative: cumsum(), cummax(), cummin(), dplyr::cummean() Conditional: dplyr::if_else(), dplyr::case_when(), dplyr::case_match() Missing values: dplyr::na_if(), dplyr::coalesce()","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/mutate.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create, modify, and delete columns of a survey design object — mutate.survey_base","text":"","code":"library(surveytidy) library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Add a new column mutate(d, college_grad = educcat == 1) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Conditional recoding mutate(d, college = dplyr::if_else(educcat == 1, \"college+\", \"non-college\")) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Grouped mutate — within-group mean centring d |>   group_by(gender) |>   mutate(econ_centred = econ1mod - mean(econ1mod, na.rm = TRUE)) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #> Groups: gender #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # .keep = \"none\" keeps only new columns plus design vars (always preserved) mutate(d, college = dplyr::if_else(educcat == 1, \"college+\", \"non-college\"),   .keep = \"none\") #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 3 #>    college     weight stratum #>    <chr>        <dbl>   <dbl> #>  1 college+     0.497      10 #>  2 non-college  0.307       7 #>  3 non-college  0.647       5 #>  4 non-college  1.31       10 #>  5 college+     0.242       9 #>  6 college+     0.694      10 #>  7 college+     1.12        4 #>  8 non-college  0.856      10 #>  9 college+     1.01       10 #> 10 non-college  0.689      10 #> # ℹ 5,012 more rows"},{"path":"https://jdenn0514.github.io/surveytidy/reference/pull.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract a column from a survey design object — pull.survey_base","title":"Extract a column from a survey design object — pull.survey_base","text":"Pull single column survey design object plain vector. terminal operation — result survey object piped back survey verbs.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/pull.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract a column from a survey design object — pull.survey_base","text":"","code":"pull.survey_base(.data, var = -1, name = NULL, ...)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/pull.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract a column from a survey design object — pull.survey_base","text":".data survey_base object. var <data-masking> column extract. Accepts bare name, positive integer (counting left), negative integer (counting right). Defaults last column. name <data-masking> optional column whose values used names returned vector. ... Passed dplyr::pull().","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/pull.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract a column from a survey design object — pull.survey_base","text":"vector length number rows .data.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/pull.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract a column from a survey design object — pull.survey_base","text":"","code":"library(surveytidy) library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Extract a column by name pull(d, agecat) #>    [1]  4  4  4  2  4  4  3  4  3  2  3  4  3  3  4  2  1  4  2  2  4  3  4  2 #>   [25]  3  4  2  3  2  1  4  3  4  2  4  4  2  4  4  4  1  4  2  4  2  3  3  1 #>   [49]  3  3  3  1  2  4  4  3  2  1  4  2  3  2  3  4  2  3  4  3  4  4  4  2 #>   [73]  4  4  1  3  4  2  2  3  4  3  4  4  2  4  4  4  4  3  2  1  3  2  3  1 #>   [97]  4  4 99  2  3  2  3  3  2  2  3  2  3  4  4  2  4  1  4  1  3  2  2  2 #>  [121]  2  2  4  4  4  4  3  1  1  2  2  2  4  4  4  1  3  2  2  4  1  4  4  1 #>  [145]  3  3  4  2  3  4  4  3  3  3  2  3  4  1  4  4  4  3  3  4  4  4  4  3 #>  [169]  1  3  1  4  3  4  2  4  3  2  1  4  1  2  4  4  4  3  3  1  1  3  2  4 #>  [193]  1  3  2  3  4  2  3  1  2  4  1  2  2  4  4  4  2  3  3  3  1  4  4  4 #>  [217]  2  4  4  2  1  4  3  2  2  1  3  4  1  2  2  4  4  4  4  2  4  4  3  4 #>  [241]  3  2  4  4  2  2  4  3  4  4  1  4  4  1  2  2  1  3  4  4  3  2  2  4 #>  [265]  2  2  4  4  4  3  2  3  4  4  1  2  4  3  4  2  2  4  4  2  3  4  4  2 #>  [289]  4  4  2  4  2  2  2  3  4  2  2  3  3  2  4  4  2  4  4  4  1  1  2  2 #>  [313]  2  4  3  3 99  3  3  1  1  2  3  2  2  4  4  3  1  2  4  2  2  4  2  2 #>  [337]  3  3  2  4  4  2  2  4  4  4  4  1  4  4  2  4  3  3  1  4  3  2  4  4 #>  [361]  4  2  4  2  4  2  2  3  4  3  4  4  4  4  2  2  4  4  4  2  1  3  4  2 #>  [385]  3  4  4  3  2  3  1  2  1  4  3  2  2  4  4  1  3  3  4  2  4  3  4  2 #>  [409]  2  1  4  4  3  2  4  4  2  2  4  3  1  2  2  4  4  1  1  2  2  3  4  3 #>  [433]  1  4  4  3  4  4  3  4  1  3  4  2  3  4  1  4  2  2  4  4  2  4  2  3 #>  [457]  4  2  4  2  3  2  2  4  4  3  3  4  3  2  2  1  3  4  2  2  2  2  3  4 #>  [481]  4  4  2  2  3  3  2 99  3  4  3  1  4  4  2  2  2  4  2  2  2  4  4  2 #>  [505]  4  3  1  2  3  1  3  2  4  3  4  4  2  3  3  2  3  4  3  4  2  2  3  1 #>  [529]  3  3  2  4  4  4  1  4  4  3  2  2  4  2  1  3  4  4  2  3  2  3  2  3 #>  [553]  3  2  4  2  3  4  4  4  4  3  2  2  4  4  2  4  4  2  4  3  2  2  4  2 #>  [577]  2  4  1  2  3  2  1  4  4  1  2  3  2  4  3  3  2  2  4  2  2  3  1  3 #>  [601]  2  3  4  4  4  3  4  4  1  4  3  4  3  3  2  4 99  4  2  2  2  2  4  4 #>  [625]  2  4  1  2  4  3  2  1  3  2  3  3  4  4  1  4  4  4  4  2  4  2  3  1 #>  [649]  4  4  2  2  3  4  2  2  4  3  2  3  4  4  4  3  3  4  2  3  4  3  2  4 #>  [673]  2  2  2  1  2  3  3  4  4  4 99  4  3  1  1  3  4  2  2  4  4  4  1  4 #>  [697]  3  2  4  4  3  3  2  4  3  4  2  3  1  2  4  2  4  2  1  4  1  1  4  1 #>  [721]  3  3  4  2  4  2  3  4  4  2  3  2  2  3  2  2  1  2  1  4  3  4  3  2 #>  [745]  2  3  2  3  2  2  4  4  4  3  2  4  3  4  1  4  3  3  2  4  4  2  2  2 #>  [769]  3  4  4  2  3  2  4  2  4  1  4  4  2  4  1  2  1  4  2  2  1  2  2  4 #>  [793]  4  1  2  4  3  3  1  3  2  2  2  3  2  4  3  1  3  2  4  4  4  4  4  2 #>  [817]  3  3  3  4  3  3  4  3  4  3  3  1  3  3  1  3  4  2  4  4  4  2  1  2 #>  [841]  4  4  3  2  2  2  3  3  2  2  3  4  4  4  2  3  3  4  4  4  2  3  1  4 #>  [865]  3  3  4  3  4  4  3  2  4  3  2  3  4  3  2  3  3  2  3  3  4  4  4  4 #>  [889]  2  3  4  4  4  3  2  4  3  4  2  3  2  2  2  2  4  4  3  4  1  2  2  2 #>  [913]  3  4  2  3  3  4  1  4  2  1  4  2  3  4  2  4  3  4  4  2  4  4  4  1 #>  [937]  2  4  2  4  4  2  2  3  2  1  3  2  2  2  3  3  3  1  2  3  1  1  4  3 #>  [961]  4  2  2  2  4  1  1  2  2  3  4  2  2  2  3  2  2  2  1  2  4  3  2  4 #>  [985]  3  4  2  2  2  2  3  4  3  2  4  3  4  4  4  4  2  4  1  4  4  2  4  2 #> [1009]  4  2  4  3  2  4  4  1  4  3  2  3  4  4  4  4  3  4  1  3  3  2  2  2 #> [1033]  2  4  4  2  1  4  2  3  2  3  4  2  2  3  4  2  2  4  4  3  3  4  2  4 #> [1057]  3  4  4  2  3  4  4  3  4  2  3  2  4  1  4  1  1  4  3  2  4  3  4  2 #> [1081]  4  4  1  2  1  4  1  3  4  4  4  2  4  4  4  3  4  4  3  2  4  2  3  3 #> [1105]  4  4  4  3  2  4  2  2  4  4  4  4  2  3  2  4  3  2  1  2  4 99  3  2 #> [1129]  2  3  3  3  2  3  2  3  1  3  3  4  4  3  2  3  4  3  4  1  1  4  2  1 #> [1153]  4  4  2  2  1  3  2  4  4  4  3  2  2  2  4  4  4  1  3  2  2  4  4  1 #> [1177]  3  3  2  4  4  1  3  4  3  1  2  2  2  3  1  2  4  2  2  2  2  2 99  4 #> [1201]  4  2  2  1  3  3  3  1  4  3  2  3  4  2  3  4  3  4  4  4  1  4  3  4 #> [1225]  4  3  2  4  4  3  4  2  4  4  4  3  3  2  2  2  3  4  4  2  3  1  2  4 #> [1249]  3  3  1  4  4  4  2  4 99  3  1  4  4  1  2  2  3  2  4  2  3  3  4  3 #> [1273]  3  4  4  1  4  4  2  2  2  2  4  2  4  2  4  3  3  3 99  3  4  1  1  4 #> [1297]  4  4  4  2  3  4  2  4  4  4  2  1  1  2  2  3  3  4  2  4  4  3  4  4 #> [1321]  4  4  4  3  4  4  3  3  1  1  3  2  1  4 99  3 99  2  3  2  3  4  4  1 #> [1345]  4  4  2  2  1  2  3  3  2  4  2  4  4  1  2  2  4  4  4  4  2  4  4  4 #> [1369]  2  1  2  4  2  4  4  4  4  2  4  4  3  1  4  2  4  4  3  2  2  2  3  3 #> [1393]  2  3  1  2  4  4  4  4  3  2  2  3  2  3  2  2  2  3  4  3  2  3  4  3 #> [1417]  2  3  4  4 99  2  2  4  3  3  4  1  4  3  3  4  4  3  3  4  2  4  2  2 #> [1441]  2  3  4  1  2  4  2  4  4  2  3  1  2  4  2  2  4  4  3  1  1  3  4  4 #> [1465]  2  2  3  1  4  3  2  3  3  4  4  4  3  3  3  3  3  2  2  3  1  3  4  2 #> [1489]  2  3  4  4  4  2  3  4  2  4  3  3  3  4  1  2  3  1  3  4  4  2  4  2 #> [1513]  3  4  3  4  4  4  4  3  3  2  2  3  3  4  4  3  2  3  2  4  3  4  3  3 #> [1537]  3  4  2  2  3  4  2  2  3  3  3  3  3  1  4  3  3  4  3  3  2  4  3  2 #> [1561]  4  2  4  4  4  3  4  4  2  3  4  2  1  4  3  4  3  2  2  4  1  3  2  4 #> [1585]  3  4  4  2  3  2  3  2  3  3  3  2  1  3  3  4  4  1  2  2  2  4  3  4 #> [1609]  2  3  3  2  4  2  4  4  3  4  3  3  1  4  2  3  1  4  3  2  2  4  4  4 #> [1633] 99  4  4  3  2  4  4  4  3  3  3  4  4  4  4  2  3  3  3  2  3  1  2  2 #> [1657]  2  1  4  2  3  3  3  3  2  1  2  3  3  3  2  2  2  4  2  3  4  3  1  2 #> [1681]  4  2  2  1  4  4  2  2  4  1  2  3  4  4  2  2  2  2  3  3  2  4  2  4 #> [1705]  4  3  2  4  2  4  4  1  4  3  4  2  3  3  2  2  3  2  3  4  3  1  2  3 #> [1729]  3  1  1  3  2  3  3  3  3  3  3  4  1  2  1  3  4  2  4  4  2  1  4  4 #> [1753]  3  3  4  2  3  2  3  2 99  3  2  3  2  3  3  1  3  1  4  2  4  1  4  3 #> [1777]  4  2  3  2  3  2  2  4  2  1  2  3  3  3  3  2  4  2  4  2  3  4 99  4 #> [1801] 99  4  4  1  4  2  4  4  4  2  4  4  4  2  4  4  1  2  1  3  4  1  3  4 #> [1825]  3  3  3  4  4  2  4  4  2 99  1  4  4  2  4  4  4  4  2  1  3  1  2  2 #> [1849]  3  4  3 99  2  2  3  3  3  4  2  2  4  3  4  2  2  2  3  2  4  4  2  2 #> [1873]  2  2  3  4  4  3  3  3  2  3  1  3  4  4  3  4  4  3  3  4  3  3  2  3 #> [1897]  2  2  3 99  4  1  2  2  2  1  2  4  4  1  1  4  3  4  4  4  2  4  3  2 #> [1921]  4 99  3  3  4  3  3  3  3  4  2  4  4  2  3  4  4  2  4  2  2  2  4  3 #> [1945]  2  1  3  2  2  4  3  4  3  4  3  3  3  4  2  1  4  2  1  4  3  4  3  3 #> [1969]  4  2  3  3  3  4  4  3 99  3  3  3  3  3  2  4  4  1  4  4  4  2  4  3 #> [1993]  3  4  2  2  4  1  4  4  4  3  2  2  4  4  3  3  2  1  2  3  3  1  3  4 #> [2017]  3  3  4  2  2  3  4  4  4  3  4  2  3  4  3  2  2  4  3  3  3  3  2  4 #> [2041]  4  4  1  2  4  4  4  2  3  4  3  4  3  4  4  4  4  4  4  4  2  1  3  3 #> [2065]  3  3  3  4  4  3  1  3  2  4  2  2  2  4  1  4  2  1  4  4  3  3  4  4 #> [2089]  2  4 99  3  2  4  4  2  1  4  1  2  2  2  2  1  4  3  2  1  1  3  3  2 #> [2113]  1  2  3  3  4  2  2  4  2  4  2  4  4  2  3  3  3  1  3  3  4  2  4  4 #> [2137]  4  1  4  4 99  2  2  3  4  3  4  4  2  2  2  4  4  2  2  3  3  3  4  2 #> [2161]  2  4  2  4  3 99  4  2  4  1  3  3  4  2  2  3  4  2  3  2  4  2  3  3 #> [2185]  3  2  2  1  4  3  2  2  3  3  1  4  2  3  2  4  4  1  4  1  4  1 99  4 #> [2209]  2  3  4  4  2  2  4  2  4  3  1  2  4  4  4  4  2  2  3  3  4  3  2  3 #> [2233]  4  3  2  4  3  2  4  4  2  4  3  3  2  1  4  2  2  4  2  4  1  2  4  4 #> [2257]  4  3  1  4  4  4  3  3  4  2  4  4  4  3  4  3  2  2  4  4  3  2  4  1 #> [2281]  2  4  2  2  2  3  2  3  3  2  2  2  2  4  2  1  4  4  1  4  3  3  3  2 #> [2305]  2  2  4  3  4  4  4  3  2  2  2  4  3  1  4  4  1  4  4  3  4  4  3  4 #> [2329]  3  4  3  4  4  3  2  4  3  4  2  4  3  3  1  4  3  3  3  4  4  2  1  2 #> [2353]  3  1  2  2  3  2  3  2  3  2  3  3  2  2  3  4  4  1  2  4  3  4  4  2 #> [2377]  4  4  3  2  4  2  4  2  2  4  4  3  2  4  1  2  2  2 99  4  4  4  4  4 #> [2401]  4  3  3  4  4  3  4  2  4  2  2  3  3  4  4  3  4  4  4  3  3  4  4  2 #> [2425]  4  2  3  3  4  2  4  3  2  2  2  3  3  4  4  3  4  3  1  4  4  2  3  3 #> [2449]  2  4  3  2  3  2  3  2  4  4  2  2  2  2  4  4  1  4  3  4  2  2  2  2 #> [2473]  2  4  3  2  4  4  4 99  4  4  4  2  1  1  4  3  3  4  1  4  1  4  2  2 #> [2497]  2  2  4  3  4 99  3  1  1  2  4  3  2  1  4  3  2  2  4  2  2  3  1  3 #> [2521]  4  4  3 99  4  1  4  4  2  3  2  4  3  2  3  4  4  4  3  3  4  4  4  1 #> [2545]  3  3  4  3  4  4  3  4  4  4  2  1  2  4  4  3  2  3  4  4  2  2  3  4 #> [2569]  1  4  3  4  2  4  4  1  3  4  4  2  2  2  4  2  4  3  2  3  4  2  4  4 #> [2593]  3  3  2  3  3  4  4  3  2  4  4  3  3  2  4  4  2  4  4  4  3  1  3  4 #> [2617]  4  4  2  2  4  4  2  3  4  3  1  2  1  3  4  2  4  3  2  4  2  4  2  2 #> [2641]  4  4  1  4  4  3  2  4  1  2  4  4  2  4  4  4  2  3  2  3  4  4  3  3 #> [2665]  2  3  4  2  2  2  2  2  3  2  4  3  1  4  4  4  3  2  4  2  1  3  4  1 #> [2689]  4  1  3  2  3  2  2  2  4  3  3  2  2  2  3  2  4  2  3  3  3  4  3  1 #> [2713]  4  4  1  4  3  3  4  3  3  4  3  4  4  3  3  4  3  2  1  4  3  4  1  2 #> [2737]  4  4  4  2  3  4  1  3  4  4  2  2  3  4  3  2  3  4  4  4  2  3  3  2 #> [2761]  4  2  3  2  2  4  3  4  4  3  4  2  2  4  4  2  1  3  3  2  4  3  2  1 #> [2785]  3  4  1  2  1  3  4  1  1  4  2 99  2  4  2  2  4  2  2  2  3  3  4  2 #> [2809]  4  3  4  4  4  4  3  3  4  4  4  3  4  1 99  4  1  2  3  4  1  2  4  2 #> [2833]  4  1  2  3  4  3  3  3  4  2  4  4  4  2  2  3  3  4  3  2  4  4  4  2 #> [2857]  3  3  1  4  4  4  3  4  4  2  3  4  3  3  3  4  2  3  3  2  2  4  4 99 #> [2881]  1  1  4  3  4  1  2  3  4  4  2  3  4  4  3  4  3  2  4  2  4  4  3  4 #> [2905]  2  2  3  3  3  2  3  3  3  2  3  2  2  2  3  3  4  4  1  4  1 99  3  2 #> [2929]  4  4  1  4  2  3  4  2  4  4  4  3  2  3  4  3  2  2  4  2  2  3  3  2 #> [2953]  3  1  3  3  2  2  2  2  3  3  2  2  3  3  4  3  3  4  2  4  1  4  4  1 #> [2977]  3  3  4  2  3  4  1  2  4  4  4  2  4  4  1  4  4  4  4  2  1  4  3  3 #> [3001]  1  2  4  4  4  2  3  2  3  4  4  2  2  2  3  4  2  4  2  2  2  4  2  3 #> [3025]  4  2  4  4  2  3  3  4  3  4  4  2  2  3  2  3  4  4  4  4 99  2  3  4 #> [3049]  4  3  4  3  2  3  4  2  2  3  2  1  1  2  1  3  4  4  4  4  2  3  4  3 #> [3073]  2  2  4  1  1  4  3  4  2  4  4  3  4  4  4  4  4  4  4  4  2  3  4  4 #> [3097]  2  4  2  2  4  3  2  3  2  3  2  3  4  3  2  1  3  4  3 99  4  1  2  3 #> [3121]  4  4  3  4  3  3  4  4  4  4  4  4  4  4  2  1  2  3  4  2  2  1  2  3 #> [3145]  2  2  4  2  4  2  1 99  2  2  2  2  2  4  1  2  2  2  2  4  4  3  4  4 #> [3169]  1  4  3  1  4  3  1 99  2  4  4  4  2  2  4  3  3  3  4  4  4  1  4  3 #> [3193]  2  4  3  3  1  4  3  3  4  3  3  2  4  3  2  2  4  2  3  3  4  4  2  3 #> [3217]  1  1  3  3  3  2  2  2  2 99  4  4  3  4  1 99  4  2  1  3  4  2  4  3 #> [3241]  2  4  3  1  2  3  4  2  1  3  4  2 99  3  4  4  3  3  4  4  2  2  2  2 #> [3265]  3  4  4  2  1  2  4  2  4  4  4  4  4  2  3  3  4  3  4  4  1  3  3  4 #> [3289]  4  2  3  4  2  2  4  3  1  4  4  4  2  4  4  2  2  1  1  4  2  3  4  3 #> [3313]  2  2  4  1  4  2  3  2  2  4  2  2  4  4  4  4  3  3  3  2  2  4  3  2 #> [3337]  2  3  4  4 99  4  2  4  3  4  2  2  1  4  3  4  1  4  1  2  4  2  1  4 #> [3361]  3  4  3  4  3 99  2  3  2  2  2  2  4  2  2  2  4  4  2  4  2  3  4  4 #> [3385]  4  4  2  3  4  2 99  3  3  2  4  4  1  3  3  2  2  4  2  3  3  3  4  3 #> [3409]  4  1  1  3  4  4  2  2  4  3  4  3  4  4  2  2  4  4  1  4  1  1  4  4 #> [3433]  3  4  4  4  2  2  4  2  4  4  2  2  4  1  3  1  4  2  4  4  4  2  2  4 #> [3457]  4  3  1  3  4  1  2  4  3  4  3  4  3  3  4  3  1  4  4  3  2  2  2  4 #> [3481]  4  4  3  2  3  1  2  3  3  3  4  4  3  4  4  2  3  3  1  4  4  4  2  3 #> [3505]  3  4  4  2  2  4  3  2  4  3  4  2  4  1  1  4  3  4  1  2  4  4  4  4 #> [3529]  3  3  2  2  2  3  3  2  4  4  3  4  1  4  2  4  4  1  2  2  2  4  4  4 #> [3553]  2  4  3  4  2  4  3  3  4  2  2  2  2  4  4  4  3  4  3  4  4  2  4  4 #> [3577]  2  4  4  3  4  4  4  2  3  4  3  4  4  3  4  3  3  4  3  1  4  2  4  2 #> [3601]  4  4  4  4  2  4 99  1  3  3  4  3  3  3  2  3  3  4  4  1  1  4  2  4 #> [3625]  2  4  3  2  4  3  3  4  3  1  4  4  2  1  1  4  1  4  4  3  4  4  4  1 #> [3649]  4  3  4  4  4  4  4  1  3  3  1  3  4  2  4  3  4  3  2  4  3  3  4  3 #> [3673]  3  4  3  3  2  2  2  3  1  2  4  4  2  4  2  3  3  3  4  2  4  4  3  2 #> [3697]  4  2  2  2  2  2  2  4  1  1  3  1  3  4  1  4  4  2  3  2  3  2  1  2 #> [3721]  4  3  3  1  3  1  2  4  4  3  4  1  2  4  3  3  4  1  4  4  4  2  2  4 #> [3745]  3  3  2  3  3  3  2  1  1  1  3  4  3  2  3  3  3  4  2  4  2  3  4  2 #> [3769]  4  4  4  2  3  3  4  3  4  2  2  1  2  3  2  4  3  3  4  4  4  3  4  4 #> [3793]  2  4  2  3  2  4  4  3  2  2  1  4  3  4  4  3  4  4  4  2  4  3  2  2 #> [3817]  3  2  4  1  2  4  4  3  2  3  3  1  3  2  4  4  2  1  1  4  4  4  2  4 #> [3841]  2  4  4  3  4  4  4  2  4  4  4  4  4  3  4  4  3  2  3  1  2  2  3  4 #> [3865]  4  4 99  3  2  4  2  4  4  3  2  2  2  1  2  2  3  4  4  2  4  3  2  4 #> [3889]  4  1  3  2  2  3  4  4  4  4  4  3  4  4  4  2  2  1  4  3  2  4  4  3 #> [3913]  3  2  2  1  3  2  4  1  2  3  3  2  2  4  2  4  3  1  3  4  2  2  4  2 #> [3937]  2  4  4  4  2  2  2  3  3  2  3  2  2  3  4  4  4  4  3  3  3  2  2  2 #> [3961]  3  2  3  4  3  4  2  2  3  3  2  2  1  4  3  2  2  2  4  2  4  4  2  4 #> [3985]  2  3  4  3  4  3  3  3  3  4  1  4  3  1  3  3  2  4  4  4  4  2  1  2 #> [4009]  4  4  4  2  2  2  3  3  2  4  3  2  2  3  4  2  2  4  3  4  2  2  4  3 #> [4033]  4  4  2  3  2  2  3  4  4  2  4  2  3  4  3  3  4  3  1  3  4  3  3  4 #> [4057]  2  1  4  2  4  4  2  3  3  4  4  3  3  2  2  2  4  2  2  4  1  1  4  2 #> [4081]  1  4  1  4  3  1  4  2  3  4  2  4  4  4  3  2  4  3  3  4  1  3  4  2 #> [4105]  2  2  4  3  2  4  4  3  2  2  2  2  4  3  3  2  2  4  3  4  2  3  2  3 #> [4129]  2  4  2  4 99  2  4  3  3  3  4  3  4  1  3  4  1  4  3  4  2  1  4  3 #> [4153]  1  2  4  2  1  2  4  2  3  1  3  4  4  2  1  2  4  4  3  4  3  2  2  4 #> [4177]  2  3  4  2  3  2  3  1  2  2  2  1  2  4  4  4  2  2  4  1  4  2  3  2 #> [4201]  4  3  3  3  1  2  2  2  2  3  4  3  3  3  4  2  3  2  3  4  4  1  4  2 #> [4225]  4  2  2  4  3  3  2  3  3  3  4  1  3  4  2  3  3  1  2  4  3  1  4  3 #> [4249]  1  4  4  3  2  4  4  3  3  4  2  2  4  2  3  4  4  4  4  1  4  1  2  3 #> [4273]  4  4  2  3  4  1  4  4  3  2  1  1  1  4  2  1  3  3  3  4  4  4  1  3 #> [4297]  3  3  2  4  2  2  2  4  3  2  3  1  2  1  3  3  3  4  1  3  4  2  2  3 #> [4321]  2  3  4  2  2  4  3  4  2  3  4  3  2  4  3  4  4  4  4  3  3  2  4  2 #> [4345]  4  2 99  3  4  2  2  1  4  4  1  4  2  2  3  4  4  2  4  2  4  2  3  2 #> [4369]  4  4  2  2  4  4  2  2  4  2  4  4  4  3  4  1  4  3  2  2  4  4  1  3 #> [4393]  4  2  4  1  2  2  1  3  3  1  3  1  2  4  2  2  1  1  2  4  2  3  3  2 #> [4417]  2  2  4  1  2  1  4  2  3  2  3  2  4  4  1  1  3  2  4  4  3  4  1  2 #> [4441]  4  4  4  2  4  2  2  4  3  4  4  1  4  4  4  2  4  3  4  1  3  3  3  4 #> [4465]  4  4  4  3  4  2  2  2  4  2  3  4  1  2  3 99  2  2  4  4  2  3  2  4 #> [4489]  4  3  4  4  4  3  4  4  3  4  2  2  3  4  4  4  1  4  4  4  1  4  1  3 #> [4513]  2  3  2  2  4  3  4  2  1  4 99  4  3  4  4  4  4  3  2  1  3  3  2  3 #> [4537]  2  3  3  2  4  4  2  3  2  3  2  3  3  4  2  2  3  2  3  4  2  2  1  1 #> [4561]  3  2  4  2 99  2  2  2  2  3  2  2  3  4  3  4  4  4  2  3  4  2  2  2 #> [4585]  4  2  3  2  3  3  3  2  4  2  1  3  4  3  4  4  4  2  2  4  2  4  3  3 #> [4609] 99  3  4  3  2  4  3  3  3  4  4  2  2  4  3  1  2  1  2  4  2  4  4  2 #> [4633]  4  3  2  2  1  4  3 99  1  2  2  1  2  4  3  4  3  2  1  3  1  3  3 99 #> [4657]  3  1  2  3  2  4  2  2  3  2  2  1  1  2  4  4  2  3  4  2  4  3  4  3 #> [4681]  4  4  4  4 99  2  2  3  3  2  4  4  1  4  2  4  1  3  4  2  3  4  2  2 #> [4705]  2  3  1  3  4  3  3  3  2  1  2  3  4  2  3  1  4  2  4  1  2  4  2  4 #> [4729]  4  2  2  3  2  3  3  3  2  4  2  3  4  3  2  4  4  2  2  1  2  3  3  3 #> [4753]  3  2  4  4  2  2  3  2  3  4  1  4  2  3  4  4  4  2  2  3  3  4  1  3 #> [4777]  3  4  4  3  4  4  4  2  4  2  1  3  3  2  4  4  2  3  4  4  2  3  4  4 #> [4801]  3  2  4  2  4  4  3  2  2  2  4  4  1  1  4  2  2  4  3  4  2  2  4  2 #> [4825]  4  4  1  4  3  4  2  3  4  2  3  4  4  2  3  4  4  4  2  1  2  4  2  3 #> [4849]  2  3  2  4  4  4  4  2  1  4  2  3  1  4  1  4  4  3  4  3  3  3  3  4 #> [4873]  4  4  1  4  4  3  1  2  3  2  2  3  3  4  1  3  4  2  2  4  4  4  2  4 #> [4897]  4  4  4  2  1  2  3  4  4  3  2  1  2  3  2  3  1  2  3  2  4  4  2  3 #> [4921]  2  3  3  4  3  2  4  4  4  4  3  4  3  1  2  3  1  4  4  2  2  4  3  1 #> [4945]  4  1  4  3  3  1  2  2  4  2  4  2  4  1  1  2  4  4  4  4  4  4  2  4 #> [4969]  3  2  3  2  2  4  4  3  1  3  4  4  4  3  2  4  2  2  4  4  4  3  1  3 #> [4993]  4  4 99  2  1  1  3  4  2  4  2  4  2  3 99  2  3  3  2  3  1  3  2  1 #> [5017]  3  2  2  4  4  4 #> attr(,\"label\") #> [1] \"Age - 4 category\" #> attr(,\"labels\") #>   18-29   30-49   50-64     65+ Refused  #>       1       2       3       4      99   # Named vector — values of agecat named by respid pull(d, agecat, name = respid) #>  1470  2374  1177 15459  9849  8178  3682  6999  9945  1901 18470 18634 16757  #>     4     4     4     2     4     4     3     4     3     2     3     4     3  #>  9783  6862 11555 13673 14364 15793 18408  5945 16607 10500 16442 13114  4142  #>     3     4     2     1     4     2     2     4     3     4     2     3     4  #>   812 10250  3716  9247 14233 13255  1564   780 11181  5145 16368 14782  3017  #>     2     3     2     1     4     3     4     2     4     4     2     4     4  #>  7158 14402 13349 14373  6489 11684 17455  1698  2820 11520  1644   533 12802  #>     4     1     4     2     4     2     3     3     1     3     3     3     1  #> 15977  7189 17593 11126  1641  7003 12054  7351  8105  8341 15215 11677 17186  #>     2     4     4     3     2     1     4     2     3     2     3     4     2  #>  5402  8272  5899  8863 17450 17434  2616 14436 10828  8391  8108  5136  1220  #>     3     4     3     4     4     4     2     4     4     1     3     4     2  #>   503   301  3930 16916 18133   456 16837  6610  5636  3637 16193  9738  7179  #>     2     3     4     3     4     4     2     4     4     4     4     3     2  #>  2499  8130  4329 12611    80 18510  1625 17184  2631   189 13929  9655  2325  #>     1     3     2     3     1     4     4    99     2     3     2     3     3  #>   648 14586  2460 17975 13453  4014  5491   461  5446  5357 10833  9398  6180  #>     2     2     3     2     3     4     4     2     4     1     4     1     3  #>  8956  7205  3866  5603 18661  1507  8775  8988  3428  3460 10841 14801  3195  #>     2     2     2     2     2     4     4     4     4     3     1     1     2  #>  8043  5481 17330 16640  3011  8646 11199  8732 17343  4300  5576 10902  5825  #>     2     2     4     4     4     1     3     2     2     4     1     4     4  #> 11230 14744  3890  6547  5122 17549 15273 17405 13063 17585 18706   855 12919  #>     1     3     3     4     2     3     4     4     3     3     3     2     3  #>  5970 11753 10825 16939 11904 17851  6239  7035    78 10962   610 13422 17387  #>     4     1     4     4     4     3     3     4     4     4     4     3     1  #> 11163 16776  2221   925  1635  6272 13098 12647 16817 11751  7200 14386 12734  #>     3     1     4     3     4     2     4     3     2     1     4     1     2  #>  3965 16856 13603 12642 15768 13169  3121 18026 12621  4058  8965    56  1851  #>     4     4     4     3     3     1     1     3     2     4     1     3     2  #>  1085 16242  7769  7551 18059  7042 18465  2331 17756  1290 17664 16738 17335  #>     3     4     2     3     1     2     4     1     2     2     4     4     4  #>   843 14926  5949  4250 14584  5102 17723 13324  3891 11884  5624 14716 15016  #>     2     3     3     3     1     4     4     4     2     4     4     2     1  #> 18410  1152 11028 16935 13894 12784  8627 17021 18625  3937  9744  9229  4811  #>     4     3     2     2     1     3     4     1     2     2     4     4     4  #>  8596  7520  6763 18078  3278  2861 17272  5954  3578  6662 11757 13633  4500  #>     4     2     4     4     3     4     3     2     4     4     2     2     4  #> 15560  6988 14262  6726  1488  5534  5798  1819 17572 12462  4032 10517 15361  #>     3     4     4     1     4     4     1     2     2     1     3     4     4  #> 14453  4685 10753  1757 12921  9104 17490  1248  3270 13820 15993 14764 15600  #>     3     2     2     4     2     2     4     4     4     3     2     3     4  #>  7955 12619 13612  3946 18608 17041 15926  1283  3734 17474   662  8112  8226  #>     4     1     2     4     3     4     2     2     4     4     2     3     4  #>  9027  1995 10203  5828  7794 10718 14502 15013  5087 18290  1455  4306  8228  #>     4     2     4     4     2     4     2     2     2     3     4     2     2  #>  1713  1258  3963 10342 10638 14478 10046  6001 17338   881  4385 17426 17054  #>     3     3     2     4     4     2     4     4     4     1     1     2     2  #>  5477 17349 17189  3999  3144  3630 18800  7920  2835  6150 11482   123 10602  #>     2     4     3     3    99     3     3     1     1     2     3     2     2  #> 10878  6188  6540  7198 13814 12198  7447 13718  6473 17051 13703 14121 17498  #>     4     4     3     1     2     4     2     2     4     2     2     3     3  #> 13469  1211  2892  3390 15784 14118 16482 13517 12398 18226   224 13574  6345  #>     2     4     4     2     2     4     4     4     4     1     4     4     2  #>  6783 15164  5487  1666 16134 10757  4012  4912 10411 14202  7461  9711 10233  #>     4     3     3     1     4     3     2     4     4     4     2     4     2  #> 11054  2388 16414  9141  2284  7704  9750 13340  7051 18781  3163 18511 11731  #>     4     2     2     3     4     3     4     4     4     4     2     2     4  #> 17293  3007 17183 15171  9157 17970 18075  9345 11377 14090  7833  7478  8303  #>     4     4     2     1     3     4     2     3     4     4     3     2     3  #> 10187 10535 10083 17885 14832 12603  6802  2333  9316 17855  1187 12247  4150  #>     1     2     1     4     3     2     2     4     4     1     3     3     4  #> 12591  4169 15884  9082  9377  3553  2014   112 10209 18429 16682 13240  8671  #>     2     4     3     4     2     2     1     4     4     3     2     4     4  #>  7652 14089    14   145 11135  2557     8 15935 15701 11712  9120 18337   719  #>     2     2     4     3     1     2     2     4     4     1     1     2     2  #>  6821 14780 14390 10274  2112 11892 17162  4484 10711 17752   143  9210 12467  #>     3     4     3     1     4     4     3     4     4     3     4     1     3  #> 15120  8327 11223  1135  8120  5915 12327 13769  5968  7748  9019 11283 10926  #>     4     2     3     4     1     4     2     2     4     4     2     4     2  #>  9186  8712 14774 13583 13514  9740   992  1006 15381   394 10090 13997  2010  #>     3     4     2     4     2     3     2     2     4     4     3     3     4  #> 12471  6075  8654   771  2028  8123 11969  1827 12008  7612 18404 11813  2352  #>     3     2     2     1     3     4     2     2     2     2     3     4     4  #>  1676 18216 11415  8073  2546 11724 10038 11164  2784 17903 10088  6785 11923  #>     4     2     2     3     3     2    99     3     4     3     1     4     4  #> 18156  1036  5744 13195 10806  3438 14329  7170 18221 10579  9070  2896 16248  #>     2     2     2     4     2     2     2     4     4     2     4     3     1  #>  3897  7620  8192  1596 11280 14871  4516 11663 13773 18651 13339 12549  3863  #>     2     3     1     3     2     4     3     4     4     2     3     3     2  #>  3467  2515 12536 10818  8952 13211 16125  1149  4934 12254   226 16209  9057  #>     3     4     3     4     2     2     3     1     3     3     2     4     4  #> 16622   192 16648 14417 17460 14319  4143 12243  7779  1059 15035  6833 15471  #>     4     1     4     4     3     2     2     4     2     1     3     4     4  #>  4856  7678  4230  4138  3793  2114 12504  6264 10527  1960  2440  1408   622  #>     2     3     2     3     2     3     3     2     4     2     3     4     4  #> 18445  1537 10961 11251 16298  7687  6386  4513   700  7935  5974 17971 15588  #>     4     4     3     2     2     4     4     2     4     4     2     4     3  #>  7406  2545  9182  2801  1457  7665  8523  4057 11320  8252 11121  3648  1019  #>     2     2     4     2     2     4     1     2     3     2     1     4     4  #> 11940  9536 14655 15475   266  1219 17291  4265 11431   536  9105 11024 18313  #>     1     2     3     2     4     3     3     2     2     4     2     2     3  #> 13737 14643 16703 12882  2693 13601 17477 13855  7690 18442 14104  2008 18246  #>     1     3     2     3     4     4     4     3     4     4     1     4     3  #>   298 15800 11970  3840   748 17831 16826 15556  5055  7107  9012 14841 18538  #>     4     3     3     2     4    99     4     2     2     2     2     4     4  #> 16954  7440   401  3129 13666 15260 15137 13910  4007  9091 12900  1089 18417  #>     2     4     1     2     4     3     2     1     3     2     3     3     4  #> 12532  8369 10768  2615  5508  2132  6648 13661  2995 11697 10120  6036 11012  #>     4     1     4     4     4     4     2     4     2     3     1     4     4  #>  8559  2948  1356  2789  6965  7458 16535  7680  6658  8795 11357 18366  2660  #>     2     2     3     4     2     2     4     3     2     3     4     4     4  #> 15702 14559  2675  3512 15288 12743 18398 15287 10337  4382  6907 18220 14675  #>     3     3     4     2     3     4     3     2     4     2     2     2     1  #> 18799 12221 15289  5611  5433 18554  3251 14134  8156 10911  6133 13241 11868  #>     2     3     3     4     4     4    99     4     3     1     1     3     4  #> 15135  2754  1983 18034 15526  9675  4066  8503 13350 15589  8543  4310 13068  #>     2     2     4     4     4     1     4     3     2     4     4     3     3  #>  8029 16580  2045  7735  9829 18544  7476 11525   319 10259 14654 13602  5698  #>     2     4     3     4     2     3     1     2     4     2     4     2     1  #> 17566  5587 12271  2143  9526  1476 14618 12391  3735 13129 12829  9023  9367  #>     4     1     1     4     1     3     3     4     2     4     2     3     4  #> 18198 15932  1196  6439  1278  1204 15112  4241 10489  2752 18619  6314  2093  #>     4     2     3     2     2     3     2     2     1     2     1     4     3  #>  3263  8253  4262  3046  7541  1615 11817 12155  1067  1833  4907  5492 10796  #>     4     3     2     2     3     2     3     2     2     4     4     4     3  #>  6607 13066 14534  3191 18677 10657 13348  5646  6832 11609  9539  4530   370  #>     2     4     3     4     1     4     3     3     2     4     4     2     2  #>  7986  9356  5568    45  4684 10176  3933  4662 10855 10132 17725  4810 18382  #>     2     3     4     4     2     3     2     4     2     4     1     4     4  #>  4958 14930  4293  6916 16841  4960  4266 16364 10467  7989 10923 16936  7048  #>     2     4     1     2     1     4     2     2     1     2     2     4     4  #>  5150  1234 10789  7563 18045  2184  7241 15610 12022  4080  6569 10101  6356  #>     1     2     4     3     3     1     3     2     2     2     3     2     4  #> 12757  5941  4260  7510  8561  5057 10526 13538  9041  1137  3711  5610 11521  #>     3     1     3     2     4     4     4     4     4     2     3     3     3  #> 11075  8354 13306 17907  8100 12316 10348 12267 17893 18736 17158  9627 16948  #>     4     3     3     4     3     4     3     3     1     3     3     1     3  #> 12174 11102  9227 14080  5580 16187   365 16637  5149  2482 15408  2711   120  #>     4     2     4     4     4     2     1     2     4     4     3     2     2  #> 11422  2783 15744  5634 10892 12624  6808  1963 14439 10795 15256  1950  6509  #>     2     3     3     2     2     3     4     4     4     2     3     3     4  #>  3875 16359  5532  5882 15040  2818 12295  9355 15632  9517  6757  1214 15009  #>     4     4     2     3     1     4     3     3     4     3     4     4     3  #> 16577 18571 15054 13956  6219 16124  3077  3481 11171 14009 14834 17545  7536  #>     2     4     3     2     3     4     3     2     3     3     2     3     3  #>  5279 12768 10591  3464  2656  5702 17547  7953 10400 17137 16760  4172  4465  #>     4     4     4     4     2     3     4     4     4     3     2     4     3  #> 13854  4592  9820 12994  2636 10255 14021  3160  1343  9306  7092  7718  5517  #>     4     2     3     2     2     2     2     4     4     3     4     1     2  #> 14694 17884  3237  2034  5640  2668 13908  4126 15568 17852 13034  8573   185  #>     2     2     3     4     2     3     3     4     1     4     2     1     4  #> 10345  9071 17791  9302  1099  3634  6504 12997   438 14765 13213 13722  5460  #>     2     3     4     2     4     3     4     4     2     4     4     4     1  #>  5195 15893  3230  1638 12496 16677  5608  2524 18273  1805  4033  6062  3111  #>     2     4     2     4     4     2     2     3     2     1     3     2     2  #>  6754  7131 17207  3415  3133  1934 10472   879 17094  6594  9253  8230 12080  #>     2     3     3     3     1     2     3     1     1     4     3     4     2  #>  6520 18028 17658  3977 18431  3642  2856 13512  2923 17081 14550 10104  5426  #>     2     2     4     1     1     2     2     3     4     2     2     2     3  #>   331  4440  8083  3474 13900  5270  1616 13069 17765  2620  9532   149 16432  #>     2     2     2     1     2     4     3     2     4     3     4     2     2  #>  8986 15028 12694  5318  6741 16536  3882  1076 13295  1178 16951  8895  9457  #>     2     2     3     4     3     2     4     3     4     4     4     4     2  #> 16825 14197  9534  4731  2929 10037 15628  3531  2736  5441  1869  8722 16953  #>     4     1     4     4     2     4     2     4     2     4     3     2     4  #>  9510  9773 12790  4089  6920  2787  5086 15020 10245 17724  8832  4339 10505  #>     4     1     4     3     2     3     4     4     4     4     3     4     1  #> 13486 16164 13710 17555  8055 17625  6828 17919  5952 14398  2666   752 18282  #>     3     3     2     2     2     2     4     4     2     1     4     2     3  #>  6040 18180  4510  7937  4770  4634  8437  4889 10003  5521 14715  3503  1424  #>     2     3     4     2     2     3     4     2     2     4     4     3     3  #> 16234  4148 14098 14327  5054 13529 17814    86  5918 17692 14724  9737 17255  #>     4     2     4     3     4     4     2     3     4     4     3     4     2  #> 17369  1560  3101 18796  2531 13699  9577 14804 12568  7588 17500  9282 13033  #>     3     2     4     1     4     1     1     4     3     2     4     3     4  #>  5110 13958 12453   478 15981  1103 16896 17656  7901 18287 15397  7543 18443  #>     2     4     4     1     2     1     4     1     3     4     4     4     2  #>  7524 14010  9560 16138  3927 10628  6278  8353 13270 12137 13458 17650 11990  #>     4     4     4     3     4     4     3     2     4     2     3     3     4  #>  2129 16824  2697  5797 16538 11854  5020  9765  5356 11676 13007 14071  9103  #>     4     4     3     2     4     2     2     4     4     4     4     2     3  #>  1750  2425 11846  7206  9339 13000 11896 17144  7336  8652  5257  7442 15979  #>     2     4     3     2     1     2     4    99     3     2     2     3     3  #>  3096  7512 14291 16101  7691  2954 11262  5401   462   579 17485 17052 11068  #>     3     2     3     2     3     1     3     3     4     4     3     2     3  #> 11938  1849 10916 15379  1587 11205  6335 10044  7797 14420  6079  6007 13682  #>     4     3     4     1     1     4     2     1     4     4     2     2     1  #> 14760  8949 18462  6742  4421  4761 11566  8755  9668 12947  5469  3240  1123  #>     3     2     4     4     4     3     2     2     2     4     4     4     1  #> 11537  1183 13692 15478 16638  6206 17537   403 11103 12397  3122  4680  9867  #>     3     2     2     4     4     1     3     3     2     4     4     1     3  #> 16630  5650 13105 15882  5531 17250  9759 16160  7870 15418  2667 14485  2646  #>     4     3     1     2     2     2     3     1     2     4     2     2     2  #> 10208  6185  2383  6707 17668 18057 10402  9990   115 17361   136  4051  6523  #>     2     2    99     4     4     2     2     1     3     3     3     1     4  #>  3687  4548 12083 16400   542  9861 17605  6106 18171  1285 18165  8664 14708  #>     3     2     3     4     2     3     4     3     4     4     4     1     4  #>  4618  1117  9380  1171  2428  2285  4278  2647 12233 10774 18179 10147  2652  #>     3     4     4     3     2     4     4     3     4     2     4     4     4  #>  1225  5451 15827 13937  2241 17829  6638 12163  9986 14786 15455  6995  4429  #>     3     3     2     2     2     3     4     4     2     3     1     2     4  #> 10261 11228  2836 14416  6557 15235 16814 15677  7856 17569   965 13136  7361  #>     3     3     1     4     4     4     2     4    99     3     1     4     4  #> 12721  5268 15500 12238 15359  1913 11903 11495 14495  1142 16706 14494  7679  #>     1     2     2     3     2     4     2     3     3     4     3     3     4  #> 14455 17640   510 12296  2544 12542  3881  5237  6697 12944 10464  9418  9605  #>     4     1     4     4     2     2     2     2     4     2     4     2     4  #>  7127 16319  6789  2301  2391 18663 18657  6873 10730 18016 11467 11013 14695  #>     3     3     3    99     3     4     1     1     4     4     4     4     2  #> 17362  5601 15488 13325 12041  4945 13423  5694 17846  4024  4700 14123   716  #>     3     4     2     4     4     4     2     1     1     2     2     3     3  #>  4588   291 11275  1107  9679  3420 14958 18734 11353 14733  9970 15565 17420  #>     4     2     4     4     3     4     4     4     4     4     3     4     4  #> 16143  5340  8345 18595  4372 11946 15917  1190  2206  8688 17251 14023  7144  #>     3     3     1     1     3     2     1     4    99     3    99     2     3  #>   908 15642 15454 15188 14901  9658 15654  7999  9296 13373  9276 14026 12416  #>     2     3     4     4     1     4     4     2     2     1     2     3     3  #> 13132  1937  8554  5709  6343 13959 18264  3559   186 13445 12971 14895  2104  #>     2     4     2     4     4     1     2     2     4     4     4     4     2  #>  1571 18647 11975 10736  8808  2781  6211   279 15822 17822 11062  2095  2678  #>     4     4     4     2     1     2     4     2     4     4     4     4     2  #>  8048 15738 10588  2371  5342  2218 18390 17463 18413  4671  6121  7788 11031  #>     4     4     3     1     4     2     4     4     3     2     2     2     3  #> 11349 16566 18433 10438  4490 16870  9889  4431  8901  9051   408  6870   360  #>     3     2     3     1     2     4     4     4     4     3     2     2     3  #>  1554 14637  6748  8953  1678 18020 13133 18731 13806  2860 13038 14860 14496  #>     2     3     2     2     2     3     4     3     2     3     4     3     2  #> 14463  8866 18508  9644 11668 16144 16711 16353 17529 10035 12973 10728  1041  #>     3     4     4    99     2     2     4     3     3     4     1     4     3  #>  2450  6428 10018 14997 13274  7187 12899  4556 10172 16447  1624 10583  7767  #>     3     4     4     3     3     4     2     4     2     2     2     3     4  #>   371  9199 10976  1423   294  1280  3906   431 15558 12656  3521 13551 16396  #>     1     2     4     2     4     4     2     3     1     2     4     2     2  #> 10300 14540  9401  3095  4732 12722  1079  3579 16279  3620 15765   867 16408  #>     4     4     3     1     1     3     4     4     2     2     3     1     4  #>   485    75  6856 15086 14813  9796  4799  3425 15910 17027 12783   342 11627  #>     3     2     3     3     4     4     4     3     3     3     3     3     2  #>  5025 11503  2955 15254  1990  3432  7486   690  3731   912  8314 16055 17116  #>     2     3     1     3     4     2     2     3     4     4     4     2     3  #> 12085  8592 16586  9743 15670 18488  3161  7269  5395 12039 14223 12086   198  #>     4     2     4     3     3     3     4     1     2     3     1     3     4  #> 16695 11046  5382  9613 15479 15808 15621  7401 10322  3899  6480  6093  4261  #>     4     2     4     2     3     4     3     4     4     4     4     3     3  #>  6791  1010 15580  1407 10844  9760  8933 15708  3652 15461 10557  5442 17525  #>     2     2     3     3     4     4     3     2     3     2     4     3     4  #>  2092 15637 15985  1835 15069  6277  5632 14366 14149 16705  2280    93 10460  #>     3     3     3     4     2     2     3     4     2     2     3     3     3  #>  5214 14526 10692 15094 15578 18602  9329 13214  2562  3644 18463  7542  8780  #>     3     3     1     4     3     3     4     3     3     2     4     3     2  #> 12950 11224  7036  6022 12668  5397 17001  4882  2905  1109  2282 17722  3189  #>     4     2     4     4     4     3     4     4     2     3     4     2     1  #> 16044  8984  7219 17457  3852  5972 17221  4355  6475 11484 15297  4013  5302  #>     4     3     4     3     2     2     4     1     3     2     4     3     4  #> 13742  6222   138 16038 18418  6730 12049  5663 11853 12191   976  7338  9005  #>     4     2     3     2     3     2     3     3     3     2     1     3     3  #> 10102  1561  1245  2744 14619  5955   948 11934   851   359 16808 17794   526  #>     4     4     1     2     2     2     4     3     4     2     3     3     2  #> 17704 11900 18006 16491 14620 15497 17539 13344  7460 18435 17938  2959  7489  #>     4     2     4     4     3     4     3     3     1     4     2     3     1  #>  7838  9793  8846  7319  3941  5363 18141 15100 17980  3159  6142  8714 10572  #>     4     3     2     2     4     4     4    99     4     4     3     2     4  #>  3607  2845  4828 17836 12300 15181  3098  7919  9403 11580  3495  2385 17267  #>     4     4     3     3     3     4     4     4     4     2     3     3     3  #>  6796 13323 17407  6637  7747 18446 10570   982 13127  3702  8650  2337  1717  #>     2     3     1     2     2     2     1     4     2     3     3     3     3  #>  5370 10745  9934  2059 10086 10319  7932 13690  5424  4625 18003  2724 16937  #>     2     1     2     3     3     3     2     2     2     4     2     3     4  #> 17802 13123 15114 14866  9802  9725  6467 13454 16219 18128 14001 12176 16830  #>     3     1     2     4     2     2     1     4     4     2     2     4     1  #> 15676  1242  4953 16356  5552 14649  1318  1027 15507  7286 15908  1566 11289  #>     2     3     4     4     2     2     2     2     3     3     2     4     2  #>  2036 14405  6421 10977 13930  3612  4715   194 10630  4386  9683  8790 14990  #>     4     4     3     2     4     2     4     4     1     4     3     4     2  #> 18673  9541  9492  2897   511 15550  9058  4304  5668 16923  6266  9447  1979  #>     3     3     2     2     3     2     3     4     3     1     2     3     3  #>  3071 15077  2270  4115 12037 18151 10123 18535   667 10390 17466 16741 18295  #>     1     1     3     2     3     3     3     3     3     3     4     1     2  #> 11917  2658 16602  4360  3681  8174 10854 13668  2713 18308 14484  2505  9592  #>     1     3     4     2     4     4     2     1     4     4     3     3     4  #> 12962  7204  7809  5238   685 16889  5868  4998 11556  7430  5924 16914  6753  #>     2     3     2     3     2    99     3     2     3     2     3     3     1  #>  2891 13077  4651  8713 11821 12650 15563 14781  3717 16331 18294 17328  6634  #>     3     1     4     2     4     1     4     3     4     2     3     2     3  #>  8208   988 11213  1461  8276  1344  6468  9396  9930   884 17739 16278  4330  #>     2     2     4     2     1     2     3     3     3     3     2     4     2  #>  6233  1889 17215 16838 17489  2664 16661   675  3543  2908  4367 10869 10904  #>     4     2     3     4    99     4    99     4     4     1     4     2     4  #> 17310  1669  7067 17329  7156 10318  6993  8265 10080   289  8090 15392 14924  #>     4     4     2     4     4     4     2     4     4     1     2     1     3  #> 15249 10625 16457   141  3151  2094 14325 13691 13163  5030  4328 18230  3202  #>     4     1     3     4     3     3     3     4     4     2     4     4     2  #>  2785  3961 14642 18690 17256  9013 13794   829   894 12066  4154   379  6231  #>    99     1     4     4     2     4     4     4     4     2     1     3     1  #> 15782  8614  3853  1140  1824  3757 11009  4526  7070   955  3239 17586 10366  #>     2     2     3     4     3    99     2     2     3     3     3     4     2  #>  6242 15366  6525  6938 10823  9685  6167  7829  5616  8394 13412 16852 14006  #>     2     4     3     4     2     2     2     3     2     4     4     2     2  #>  8098  7438 15087  7145  2643  8050  2350 12663 18357  1130  8251 12981 12691  #>     2     2     3     4     4     3     3     3     2     3     1     3     4  #> 12240 10561  4419 16221  6619 18125 17342  2275  6962  1373  5144 13658 18765  #>     4     3     4     4     3     3     4     3     3     2     3     2     2  #>  9545 18269 11777 17117  9868 12264 13452  9092  5574 13886 16142 15826 13697  #>     3    99     4     1     2     2     2     1     2     4     4     1     1  #>  3298 13142 15393   785  6799 12510  4550 18643 17176 18069  8270  1661    62  #>     4     3     4     4     4     2     4     3     2     4    99     3     3  #>  9208 12750  1519 16674   654  4631  9036 18422 14052 11844 10021  2255 10041  #>     4     3     3     3     3     4     2     4     4     2     3     4     4  #> 18013 13943  8785 10643  6303   479  4815 11424 15869   914 13813 12572 11269  #>     2     4     2     2     2     4     3     2     1     3     2     2     4  #> 14034 16062  8255  9320 15244  8236  3345  7526  7730  5444 12370 13515  3786  #>     3     4     3     4     3     3     3     4     2     1     4     2     1  #> 11094  7567 16831 10925  9233  5313 11640 12149  4383  8557  1314  6182 12604  #>     4     3     4     3     3     4     2     3     3     3     4     4     3  #>  1493 12352  9219 13334 15492  9585  8310  7834  4493 13430 13759  4299  9007  #>    99     3     3     3     3     3     2     4     4     1     4     4     4  #> 14260 12972 13811  6322 15499  4689  5888  7196  7416  6348 12183 14950  4630  #>     2     4     3     3     4     2     2     4     1     4     4     4     3  #> 14970  2563  7782  2334 12739 14172 16383  6851  7052 13244  4916  2679  2769  #>     2     2     4     4     3     3     2     1     2     3     3     1     3  #>  4098 16081 10171 10849  5336 15064  9442 14087  8996  8142  2644 16033 16854  #>     4     3     3     4     2     2     3     4     4     4     3     4     2  #>  6940 17075 13457  6223 10842  8350 12075   396 14952  5476 13694  5062 16176  #>     3     4     3     2     2     4     3     3     3     3     2     4     4  #> 10699 13401  1210  9392  3002  4447  9579   711  2328 11626  9800  5414  5554  #>     4     1     2     4     4     4     2     3     4     3     4     3     4  #> 15740  6028  1890 17399  3803 15896  3063  4696   391  4586 14407   107  8550  #>     4     4     4     4     4     4     2     1     3     3     3     3     3  #> 16564  7908  3315 17987  6360  6484 18414 12609 13144 11760 17830 13804  4363  #>     4     4     3     1     3     2     4     2     2     2     4     1     4  #>  4702   743 18531 16393 12594  9648  1522  5328  2528 10454 12606 11032 12575  #>     2     1     4     4     3     3     4     4     2     4    99     3     2  #>  7957 12483 10523 10374 18760 10856  6705  8598  9843 18303  1776 15179  1605  #>     4     4     2     1     4     1     2     2     2     2     1     4     3  #> 18512 17892  4751  5892 18518   110  1025  4746  9336  2075 17383 15812 18134  #>     2     1     1     3     3     2     1     2     3     3     4     2     2  #> 11298   886 13369  6087   557 13204 16208 13365   684 11827  6949 14972  6096  #>     4     2     4     2     4     4     2     3     3     3     1     3     3  #>  9066  8097 16624 10336  1511  4990  6559  2368 13052   538  7900 17020  6194  #>     4     2     4     4     4     1     4     4    99     2     2     3     4  #> 15903  5613  8546 12310 14527  1958  5495 16163  3410 11373  8273  7858  3429  #>     3     4     4     2     2     2     4     4     2     2     3     3     3  #> 13160 16315  5174  1253 17721 15468  1257 14740  4108 14943 14268 13209  1195  #>     4     2     2     4     2     4     3    99     4     2     4     1     3  #>  6777 16074  8843  9807   467  7434  5041  3873  4332  4046   591 14837   498  #>     3     4     2     2     3     4     2     3     2     4     2     3     3  #> 10227  2167 13494 18241 10733 16225 17617  3769  6824 18254  1814 13921 16318  #>     3     2     2     1     4     3     2     2     3     3     1     4     2  #>   904  7395 14140   421  1591 13474  7195 17202 10241 10879 18147  5703  8065  #>     3     2     4     4     1     4     1     4     1    99     4     2     3  #> 15905 15477  3627 11317   418 17998 17928   594  6102 10089  6803  1072 12686  #>     4     4     2     2     4     2     4     3     1     2     4     4     4  #>  4449 15280 12898  6395  6305 11791  3952 11722 16167 16525 10783  7335  6449  #>     4     2     2     3     3     4     3     2     3     4     3     2     4  #> 15833 10592  4987 16192  7266   793  6453  9900 16872  3210 17898 17427  4315  #>     3     2     4     4     2     4     3     3     2     1     4     2     2  #> 12998 17270  7503  4694 16534  9267  3780 15948 15189 10434  1284 12281 16485  #>     4     2     4     1     2     4     4     4     3     1     4     4     4  #> 12291 15521 10840  9399  6524  7498 15383  6688 12862 14447  3710 16693     2  #>     3     3     4     2     4     4     4     3     4     3     2     2     4  #> 15180 16995  5567  3359  4922   540 13839  1590  3131 17334   661  2574  6193  #>     4     3     2     4     1     2     4     2     2     2     3     2     3  #>  8943  7255  7443 18193 15936 18222 16006  2360  3885  7807 10447  4639 14507  #>     3     2     2     2     2     4     2     1     4     4     1     4     3  #>  9971  3733  1610 12880  1954  4738  5909   367  8042  1032  3749  1782  5493  #>     3     3     2     2     2     4     3     4     4     4     3     2     2  #>   402 11590 13236 13790  7860  2949 12580 15464 16377  3771 13243 18154  9038  #>     2     4     3     1     4     4     1     4     4     3     4     4     3  #>   774 11907 10144  2700  4498  5379  5345  3409  8799  1403 18296  4173  2185  #>     4     3     4     3     4     4     3     2     4     3     4     2     4  #> 12052  6410  2638   693 14847 14906  8452  8007 15129  3257  5431  7824  7523  #>     3     3     1     4     3     3     3     4     4     2     1     2     3  #>   336  7298  6512  8356 18675 16840 17540   302  7597  5910  8360 16669   945  #>     1     2     2     3     2     3     2     3     2     3     3     2     2  #> 14206 13873  7240  4886  2373  8915 13744 17166   584  7525 16581 10444 13607  #>     3     4     4     1     2     4     3     4     4     2     4     4     3  #>  4954  8036   465  9878 16823 12861 16616 13850  6654 11914 14254 13150  4833  #>     2     4     2     4     2     2     4     4     3     2     4     1     2  #> 13290 15660 18048  8494 15591 14460 18441 14186  6078  7491  9221 17104 13147  #>     2     2    99     4     4     4     4     4     4     3     3     4     4  #>  2336 11231 14759 15242 14100  1988  9095  1972  6767 11252 13310 13864  4070  #>     3     4     2     4     2     2     3     3     4     4     3     4     4  #> 14348  8815   175  5223 15767 10571  4995 10734 10403  1984 11793 11314  5831  #>     4     3     3     4     4     2     4     2     3     3     4     2     4  #> 16053 15266  4119 16890 14263  1291  4359 11897   763 13381 10129 10864 11043  #>     3     2     2     2     3     3     4     4     3     4     3     1     4  #> 18529 11371  3234  8995   168  1768 18224 16094 13513  5329  8493 11758  5419  #>     4     2     3     3     2     4     3     2     3     2     3     2     4  #>  1993  1702  6306 10615 10907 17615  7213  8653 13863  7441 10122  1229 15585  #>     4     2     2     2     2     4     4     1     4     3     4     2     2  #>  4791   317 17315 13911 17868 16832  2577  5848  4083  7711  7400  7880 14111  #>     2     2     2     4     3     2     4     4     4    99     4     4     4  #>  9763  4192 11137 10347  7310   857 15705 13090 18530 13877 10668 14923 14469  #>     2     1     1     4     3     3     4     1     4     1     4     2     2  #> 13079 18210   614  6013 10137 13263  5303   474  7226 11324  9048 10360 12434  #>     2     2     4     3     4    99     3     1     1     2     4     3     2  #>  5017 18274  9689  3912 12959  2964  5188  7071 15636  1264 18624 18142 10260  #>     1     4     3     2     2     4     2     2     3     1     3     4     4  #> 11927 11522 17604  6165  8607  9690  4784 12333 16865  1812  7334 18754  5612  #>     3    99     4     1     4     4     2     3     2     4     3     2     3  #> 10943  6369 17997 17974  8365  6391 17026 14299  5082  5851  2150  5332 15789  #>     4     4     4     3     3     4     4     4     1     3     3     4     3  #> 16413  1213 17962  6225  9506 12697 13973  3973  3068  7789 17254  5768  8630  #>     4     4     3     4     4     4     2     1     2     4     4     3     2  #>  6381 17731 13890  5255 10982  9767  1346  4274 12586  1333  5693 10103  7168  #>     3     4     4     2     2     3     4     1     4     3     4     2     4  #>  2151  4973  2245  6501 17960  8431  8821  2812  4585 10264  3878 10165 18329  #>     4     1     3     4     4     2     2     2     4     2     4     3     2  #>  3118  9974  4915  4409  1456  9866 13969  8525 16781  7091 11963 14132 14734  #>     3     4     2     4     4     3     3     2     3     3     4     4     3  #>  1637 18238 17771  1639 12234 15976   447  7770  2406 14180 14277 16010  9693  #>     2     4     4     3     3     2     4     4     2     4     4     4     3  #>    72 14220 13524  6864  3143 13346 17706  2834  8736 16015  5114 10413  5496  #>     1     3     4     4     4     2     2     4     4     2     3     4     3  #> 14248 18181 15579  6515  5996  2413  8420 11848  2870  3062 13702  9440 11227  #>     1     2     1     3     4     2     4     3     2     4     2     4     2  #> 16863  8689   697 13792  8813 11836  8552  7973 11376   113  7841 18247  7367  #>     2     4     4     1     4     4     3     2     4     1     2     4     4  #>  8306  6848  2288  6673  5592  6337 16771  5314 14063 11434  6510 13043 11780  #>     2     4     4     4     2     3     2     3     4     4     3     3     2  #>  8034 14881 15121  8364   587 13977  6284 16736 15933  4623  6968  6749  8134  #>     3     4     2     2     2     2     2     3     2     4     3     1     4  #>   589  9775  2470  9895  1932 11910 14269 17776 13128 18033  1267   184  4950  #>     4     4     3     2     4     2     1     3     4     1     4     1     3  #>  5394 15213  2846  3205   300 14691  4125  4334   966  6020 18477  4620  1239  #>     2     3     2     2     2     4     3     3     2     2     2     3     2  #> 14636  2228 17131 15389 12903   574 10556 12423 15424  6703  2703 17154  9424  #>     4     2     3     3     3     4     3     1     4     4     1     4     3  #> 18331 14543 11447  2542 16291 16126 16938 17634 15918 13060 15731   586  3081  #>     3     4     3     3     4     3     4     4     3     3     4     3     2  #> 10773  4724  7819  5066  6104 10068  1927 13736 13451  1943  6497  4326  7100  #>     1     4     3     4     1     2     4     4     4     2     3     4     1  #>  2126  3983  3505  9985 11239  4546  5660 13461 13367 17275 16778 15819 10894  #>     3     4     4     2     2     3     4     3     2     3     4     4     4  #>   858  7533 11733  2433 12019  7701 10084 15160 10936 12875 16397 18042 12864  #>     2     3     3     2     4     2     3     2     2     4     3     4     4  #> 13667  1699  2442  6080  7954 13728 17665  6443  8770 15554 13485 16545  3475  #>     3     4     2     2     4     4     2     1     3     3     2     4     3  #> 12433  9935  9918  4736  7375 16415 15751 16360  3115   190 15199 13442  7553  #>     2     1     3     4     1     2     1     3     4     1     1     4     2  #> 17560 15440  1629  6263  1404  1895 11225  1377  8450 11326 13966  8311  7555  #>    99     2     4     2     2     4     2     2     2     3     3     4     2  #> 10639  4991  3371  5520  1711 18346 11419 10333 17132  9213  8149  5385  5597  #>     4     3     4     4     4     4     3     3     4     4     4     3     4  #>  3067 17279   994  4533  3496   166 12375 11618 10893 12032  5171 16550 12774  #>     1    99     4     1     2     3     4     1     2     4     2     4     1  #> 17064  9720 11857  9805 11889 14315  2722  4775 10292  6175   228  4928 16623  #>     2     3     4     3     3     3     4     2     4     4     4     2     2  #>  8672 12286  3603  1781  8738 10613 15934 18015  5721  2173  8385  4753 17883  #>     3     3     4     3     2     4     4     4     2     3     3     1     4  #> 15627  6676 11257 11265 18278  1854 14651  9646 17742 16899  4615  4482  7403  #>     4     4     3     4     4     2     3     4     3     3     3     4     2  #>  6694 11282  6307 17089  9215 14598  3165 11337 18378 13701 10721  2587  6670  #>     3     3     2     2     4     4    99     1     1     4     3     4     1  #>  3164 10155  1049  4717  8060  5217  5815 10829 10291 13484 18444  4601  1675  #>     2     3     4     4     2     3     4     4     3     4     3     2     4  #>  3932  3125 15997 11960 11161  4849   962   910 13036  4127  1319  9769  9125  #>     2     4     4     3     4     2     2     3     3     3     2     3     3  #> 10016 15223 11481 12607 17323 10934  4086 13450  9452   482 16900  5845 12988  #>     3     2     3     2     2     2     3     3     4     4     1     4     1  #>   323 11443  6217  5745  7874   551  9841 11081  6044  7118  9020  1136  3035  #>    99     3     2     4     4     1     4     2     3     4     2     4     4  #> 13688 12023  6250  6137   749 15318  2996   445  5154 11307 11750  9147  6871  #>     4     3     2     3     4     3     2     2     4     2     2     3     3  #> 12168 11408  6997 15493  5355 18002  9102  4650  3540  3920  3134 16302 18475  #>     2     3     1     3     3     2     2     2     2     3     3     2     2  #>  5879 11818 14985 11336    21 16355   527 11260 15111  6173  8629  7993   959  #>     3     3     4     3     3     4     2     4     1     4     4     1     3  #>  8610 16964 12836 18010 13674  1005  2307  5070  9630  2720 13747 13606 17589  #>     3     4     2     3     4     1     2     4     4     4     2     4     4  #>   257 15592  4442 10349  3498 13609 17398  6336  9181 16967 17448  2952   960  #>     1     4     4     4     4     2     1     4     3     3     1     2     4  #>  4587 10341 11653    53  9854  8346  3525 13411  9781 12730    71 12272 12000  #>     4     4     2     3     2     3     4     4     2     2     2     3     4  #>  3539 18467  6713 17242 15398  9587  5364 12828 11451  4191 14246  7725 18187  #>     2     4     2     2     2     4     2     3     4     2     4     4     2  #>  9780  8718  8655   124 15234  7635  1916  7500 16007  1113  3529 18138  6387  #>     3     3     4     3     4     4     2     2     3     2     3     4     4  #> 13054 16257 14606  1390 14231   657 12063 11547  9502  6899 17046  2021  7245  #>     4     4    99     2     3     4     4     3     4     3     2     3     4  #>  3837 15663 11660 11565   747   508  2191 13012 10332  5582  4790 12367  3382  #>     2     2     3     2     1     1     2     1     3     4     4     4     4  #>  1260 14151 11994 18572  3470 12644  8572  4062  1940 11469  5778 16628  2073  #>     2     3     4     3     2     2     4     1     1     4     3     4     2  #> 14710 10077 10947   877  3921  4633 12132   404 14843  2496  9899  6684  8155  #>     4     4     3     4     4     4     4     4     4     4     4     2     3  #>   425  7930  9893  6764  2733  6382 11170   769  6872 15014  6112 10597 18645  #>     4     4     2     4     2     2     4     3     2     3     2     3     2  #> 11824 17266 14599 15502 18739 16811  2534 11306 10631  7655   936  1643 14399  #>     3     4     3     2     1     3     4     3    99     4     1     2     3  #> 16509 14477  3569 10201 13830  8315  3953  9813  5228 12630   269 16058 16268  #>     4     4     3     4     3     3     4     4     4     4     4     4     4  #>  8992 11159 14466  8892  4887  7404 16821 17842 11423  3317 14174 16713 11877  #>     4     2     1     2     3     4     2     2     1     2     3     2     2  #>  9139  4654  9779 15428 17468  3835 12726  3051   567 16212 10702 14539 16791  #>     4     2     4     2     1    99     2     2     2     2     2     4     1  #> 10914  9044  9514 16639  4818   530  7638   265   677 13791 13322 16358  6868  #>     2     2     2     2     4     4     3     4     4     1     4     3     1  #>  9531   628 17524 18524 16719  9385  2118 12455   656  9782 16468  5457  8425  #>     4     3     1    99     2     4     4     4     2     2     4     3     3  #>  8213  1165 10661 14562 16335 16803 17958 16327  6809 10451 16986 10761 18227  #>     3     4     4     4     1     4     3     2     4     3     3     1     4  #> 16090  9821  5173  1956  2841  2661  2475  6003 12823 14314  1166  8899 16911  #>     3     3     4     3     3     2     4     3     2     2     4     2     3  #> 17194   803  8928  2597 18257 14693  6621  6451  7509 18628 12918  8330  2584  #>     3     4     4     2     3     1     1     3     3     3     2     2     2  #> 11549 10437  8401  4399 18560  1259  6059 16702 18614 17618  9803 18144   170  #>     2    99     4     4     3     4     1    99     4     2     1     3     4  #> 11984 16901 12513 14145 14150  9192  4829  8079 17845  3996  2498  2939 12846  #>     2     4     3     2     4     3     1     2     3     4     2     1     3  #>   311  3117 16733 17733 14515 16263  8539 17464  9269   922 15530 18682  9365  #>     4     2    99     3     4     4     3     3     4     4     2     2     2  #>  1692 18184 11395  8002   637  3260  3192 10529 17811 11051 10537 12554  6793  #>     2     3     4     4     2     1     2     4     2     4     4     4     4  #> 12209  6782  4864 12129  6779 11802 15296 16643 14976 17844  5296  2729  7677  #>     4     2     3     3     4     3     4     4     1     3     3     4     4  #>  1254 11856  5128 18761 11108 15569  8405   631  8403  7570  9947 16079  4942  #>     2     3     4     2     2     4     3     1     4     4     4     2     4  #>  5285 13880 13222 18545   958  7780  6820  6151  4313 13073 15901  4515 13931  #>     4     2     2     1     1     4     2     3     4     3     2     2     4  #>  3139  4918  9547  6383  3709 16746  6076 13757 18656 11120 10487  7649 10790  #>     1     4     2     3     2     2     4     2     2     4     4     4     4  #> 10386  3534  6720 10054 15613  9926 11650 13282  3493 13410  6420 11375 10380  #>     3     3     3     2     2     4     3     2     2     3     4     4    99  #> 18568  5788 10886 10576 14253 13488 13780 12509 12321 11890  6900   165  3097  #>     4     2     4     3     4     2     2     1     4     3     4     1     4  #>  7011  5095 18379   517  5196 14777  6605  6934  1484 16329  2057 10708 12961  #>     1     2     4     2     1     4     3     4     3     4     3    99     2  #>  6402  3572 13436 10922 17475 12151 18261  6401 17136  5235  5681   409  4239  #>     3     2     2     2     2     4     2     2     2     4     4     2     4  #>  3613  8913 11438   736  6544 13934  7348 18662 15279 13156 14012 12203  1620  #>     2     3     4     4     4     4     2     3     4     2    99     3     3  #>  1577  1363 18610  3938  8544  1478   327  4475  5139 13671 17149  1777  9952  #>     2     4     4     1     3     3     2     2     4     2     3     3     3  #> 11379 11752  5299  1693  2511 16620  9742 18494 15324  4460  5645 18358  3760  #>     4     3     4     1     1     3     4     4     2     2     4     3     4  #>  9969  6361 18076 16106 10706  2142  2951 10814  3203  7256 12617  3804  9746  #>     3     4     4     2     2     4     4     1     4     1     1     4     4  #>  7451  3694  9043  7426  7661  5113 17775  6432   397  2494 13197  2825  9583  #>     3     4     4     4     2     2     4     2     4     4     2     2     4  #>  9061  8141  4370 12822 11696 14154  5239 10215  9275 14051  2782  9127 16766  #>     1     3     1     4     2     4     4     4     2     2     4     4     3  #> 13259 16973   157  3297 15308  9699  8189 11339  2819 12498  4940 12672 16912  #>     1     3     4     1     2     4     3     4     3     4     3     3     4  #>  4268  4676  9261  1792 18586  7827   531 15811 10394  1826  3325 13388  7173  #>     3     1     4     4     3     2     2     2     4     4     4     3     2  #>  5750  4624  8945 13040   258 18438  2537 12782  7197  3775 14913 13398  6739  #>     3     1     2     3     3     3     4     4     3     4     4     2     3  #>  7020 12110  3142 18212 10769 16608 17627  1048 13489  7583  2613  4244  8746  #>     3     1     4     4     4     2     3     3     4     4     2     2     4  #> 13558   687   728 10614 16387  9014 10436 13478   406 11143 17480 13048 18108  #>     3     2     4     3     4     2     4     1     1     4     3     4     1  #>  4653  2232 15206  4453  1771 11297 12381 16515 13301  8279  3796 10670 15872  #>     2     4     4     4     4     3     3     2     2     2     3     3     2  #> 11930   104   590 18114 13561  5934  3401  8454  2365  8342 15814  7475  3227  #>     4     4     3     4     1     4     2     4     4     1     2     2     2  #>  9300 14666   278 15661   876 18641 14849  3639 16446  8907  6186  2489   512  #>     4     4     4     2     4     3     4     2     4     3     3     4     2  #>  4073  1832 10396 16827 11614  6976 12708  7924 12989  3087 14919 17044 13721  #>     2     2     2     4     4     4     3     4     3     4     4     2     4  #>  2858  3053 13428 14311 15142 11060 17915   385  6063 11718 12707  3326  2076  #>     4     2     4     4     3     4     4     4     2     3     4     3     4  #> 12451 18145 12879  7985  5773  1425 12020  6198 14065  9570  4627  3523  1315  #>     4     3     4     3     3     4     3     1     4     2     4     2     4  #> 11659 16362 12907  9838  3909  3730   171 16675  2738 11480  6021 15760  5134  #>     4     4     4     2     4    99     1     3     3     4     3     3     3  #>  6037  2065 16259  6680 18692  2022  6737  4312 15669  4701  7046  8856 13027  #>     2     3     3     4     4     1     1     4     2     4     2     4     3  #>  6686 14591  4551  5656 13245 17143  6620  9413 11141  9427   578  5731  8277  #>     2     4     3     3     4     3     1     4     4     2     1     1     4  #>   415  1483  3108 14973 12318 13425 14633 15796  8919  7969  5700 14072  9593  #>     1     4     4     3     4     4     4     1     4     3     4     4     4  #> 10968 15236 18517 15626 16251 15709  1668 15949   811  6354 18653  4352 18584  #>     4     4     1     3     3     1     3     4     2     4     3     4     3  #>  8752  4983  3703  3561 11612 11901  8486 13134  4187  2838  2229 11524 17758  #>     2     4     3     3     4     3     3     4     3     3     2     2     2  #>    84 17357 10304 16480  5559  5125 12194 10317  3020   636 13672 15021   275  #>     3     1     2     4     4     2     4     2     3     3     3     4     2  #> 16819  5307  4035  4335  5121  2089   111  4041 12126 14449 12524 14757  5267  #>     4     4     3     2     4     2     2     2     2     2     2     4     1  #> 13258  8309 12343  2794 13992 17157  6350  3082  4105 13267    43 18116 10115  #>     1     3     1     3     4     1     4     4     2     3     2     3     2  #> 10297  3902  9715 11666   335  4837 18705 14787  8124  2622  9879 15505   679  #>     1     2     4     3     3     1     3     1     2     4     4     3     4  #> 12096  8092  3944 14290  8242 10927 11637  6516  5678 17000  1828 18700 17703  #>     1     2     4     3     3     4     1     4     4     4     2     2     4  #> 12653  1908 10520 14031  8820  7209  8221  6903  6551  5096  1528  4981  7685  #>     3     3     2     3     3     3     2     1     1     1     3     4     3  #> 13100    57  2038  6179  6592 10420 15652  7320 10017 14518 14452  4827   692  #>     2     3     3     3     4     2     4     2     3     4     2     4     4  #>   263 11229  7059 14739 11774 12244  3361 17042  7559 17227  4921 10285 15620  #>     4     2     3     3     4     3     4     2     2     1     2     3     2  #>  1989 13483 15717 13816  6019 16789 14019 13281  7578  4599  1192 12130 13083  #>     4     3     3     4     4     4     3     4     4     2     4     2     3  #> 16802 10294  6732 12082  4984 10092  1911 14917 16950 15251  5320 16247  9161  #>     2     4     4     3     2     2     1     4     3     4     4     3     4  #> 17535  8726   604 11862 16801 10229  6011 11411 17978 16720  9650  5854  2696  #>     4     4     2     4     3     2     2     3     2     4     1     2     4  #>  1959   225 18635  2674 13187  7280 12205 14103 14743  9140 18037 14092 13565  #>     4     3     2     3     3     1     3     2     4     4     2     1     1  #> 15603  8480  7393 11329  7873  3745 16779  7437 16742  2743 18164  5323  6657  #>     4     4     4     2     4     2     4     4     3     4     4     4     2  #>  3990 13525 18548  8227 17827  4523 11585  3311  4535 12456  3550 16679  5002  #>     4     4     4     4     4     3     4     4     3     2     3     1     2  #>  9751  5925 12867 18060 12363  6981 13622 11734 16388 10564 15063 18374 18772  #>     2     3     4     4     4    99     3     2     4     2     4     4     3  #>  2363 15810  7420  1754 14971  8491  8069   658  4181 18473  4307  8017 16844  #>     2     2     2     1     2     2     3     4     4     2     4     3     2  #> 15328  2926 11512 17956 16743 11783 14625 13385  7236 17108 16553  1999 14354  #>     4     4     1     3     2     2     3     4     4     4     4     4     3  #> 11863  3677  3279 17316 17571  5264 14918  3614 13696 15779 11921 15191  2019  #>     4     4     4     2     2     1     4     3     2     4     4     3     3  #>  8744  2843 14146 13641 12228 15494 16656  9412 12332  4110  1612 12732 17577  #>     2     2     1     3     2     4     1     2     3     3     2     2     4  #> 18740 12655   903  6671 13951 10603 14638   834  8302  1947 15472  1718 13363  #>     2     4     3     1     3     4     2     2     4     2     2     4     4  #> 13329 10816  7564 16402 16897 12185  7105   520  5373  9898  8477 17088  2513  #>     4     2     2     2     3     3     2     3     2     2     3     4     4  #> 17803  7744  8802  4364 10158 10473  3377  4626  5482 14139  2443 14818 12452  #>     4     4     3     3     3     2     2     2     3     2     3     4     3  #> 11166 15802  4061  9595  3656 15535 16301  3346 16466  9540 10503  4165 13915  #>     4     2     2     3     3     2     2     1     4     3     2     2     2  #>  1351  5362  4398 14887  9884  2746  7763 14735 12766 14055  1594 13891 12800  #>     4     2     4     4     2     4     2     3     4     3     4     3     3  #>  7586 12505 14601 13652 10015  5290  5246  5648  2894  4584 10552 11515 12426  #>     3     3     4     1     4     3     1     3     3     2     4     4     4  #>  5865  7835 14772  9476 18755  9962  5697 12631 16479  3870 15245 15411 11533  #>     4     2     1     2     4     4     4     2     2     2     3     3     2  #> 15925  1034  1649  5461 18425 11584 12534 10550   706  3030 12559  3856 12097  #>     4     3     2     2     3     4     2     2     4     3     4     2     2  #> 10151   499  5840  9330  5957 18243  6573  6466 12643 13635  7492 16780 11786  #>     4     3     4     4     2     3     2     2     3     4     4     2     4  #> 18631 17546 10395 16697 11261  4571 15283  9072 13076  9909   318 11413  2798  #>     2     3     4     3     3     4     3     1     3     4     3     3     4  #>  1730 18621  2719  2342  4002  8583 10236 12969 10782  4149  1706 15853 17173  #>     2     1     4     2     4     4     2     3     3     4     4     3     3  #>  2403  4288  3954 11330  8461 11995  8800 15875  4851 18383 15818  4720 12755  #>     2     2     2     4     2     2     4     1     1     4     2     1     4  #>  7972  1877   114  6448 18401  4095 14798 11385 11919 12488  9599  7626  8604  #>     1     4     3     1     4     2     3     4     2     4     4     4     3  #> 15649  3275 15639   864  3389  6786  2068  4072  2322 13496   670 17514   410  #>     2     4     3     3     4     1     3     4     2     2     2     4     3  #>  7741 18720  1150 12111   634  8116 10578 10198  8127  5504 17623 15895 13416  #>     2     4     4     3     2     2     2     2     4     3     3     2     2  #> 12428 12432  8085 12842 14346  5553 16815 14298 16255 13626 18528   788 17558  #>     4     3     4     2     3     2     3     2     4     2     4    99     2  #> 18106 11303  2880 14939  9959  8103 11587  9842  7175 11308 14257  8720  2669  #>     4     3     3     3     4     3     4     1     3     4     1     4     3  #>  2438 16788  3661 13396  2621  9507  1298  1682  9230  1599 15059   952 15501  #>     4     2     1     4     3     1     2     4     2     1     2     4     2  #>  7694  3212  5163 15197    97  3575  7136  7025  5044 12706 12116  5199 10972  #>     3     1     3     4     4     2     1     2     4     4     3     4     3  #>  1770 17785  4068 12399 11648  3455 14736  1286 18039  1281  8320 11843  7760  #>     2     2     4     2     3     4     2     3     2     3     1     2     2  #>  3907 16505 14008  4986  9016  5069 13359 12289 15092  6558 12648    49  8312  #>     2     1     2     4     4     4     2     2     4     1     4     2     3  #>  3013 11926  3649 12598 11672 18112  6057 15391 17835  2927  9764 18119 15032  #>     2     4     3     3     3     1     2     2     2     2     3     4     3  #>  2976 14858 14644  2064  9055 11216 12068 14773  4034 15675 13842 11778 18201  #>     3     3     4     2     3     2     3     4     4     1     4     2     4  #>  5736 12224   653  9439 10498 10998  3301  8931  3635  9575 18252  2367 15281  #>     2     2     4     3     3     2     3     3     3     4     1     3     4  #> 15574  3662  5877  4566  8170  6568  8871 17444  9117  9304  4559 11401 16312  #>     2     3     3     1     2     4     3     1     4     3     1     4     4  #>  6067 13180 11719  2650 14280  6257  2029  4005 11021  3400  3807  5733  2576  #>     3     2     4     4     3     3     4     2     2     4     2     3     4  #>  3102  2571  6531  9757  4167  6228 14696  6166  1311  1868  3722  9090  2088  #>     4     4     4     1     4     1     2     3     4     4     2     3     4  #> 10350  8711  6034 15867  6145 18664  7253  9984    55 12995 15722  1962 16988  #>     1     4     4     3     2     1     1     1     4     2     1     3     3  #> 16282  8025  4670 17556  1208   827  6661 16820 14731 17487  8716  9226  6146  #>     3     4     4     4     1     3     3     3     2     4     2     2     2  #> 16171 12361  2922 10338  6470  4777  1115  9152 13421  5738  1998 14703  2745  #>     4     3     2     3     1     2     1     3     3     3     4     1     3  #> 17527  3979 10491  5176 16423 16303  1189  2486 15192 17191  3621  1268   564  #>     4     2     2     3     2     3     4     2     2     4     3     4     2  #>  5138  3268   489   434 14607 15635  2689 11235 16699  3594 17203 12429 16740  #>     3     4     3     2     4     3     4     4     4     4     3     3     2  #> 16205 12204 15320 13786 17025 10218  7754 11690  8533 12071 13183 16014 18665  #>     4     2     4     2    99     3     4     2     2     1     4     4     1  #> 16150  6781  2909  6553  4835 11218 12030 18326 14335  9660   457  4862 13028  #>     4     2     2     3     4     4     2     4     2     4     2     3     2  #> 16406  3815 12315 14413 16881 10011  8669 14896 12540  5986  6288    65 10747  #>     4     4     2     2     4     4     2     2     4     2     4     4     4  #> 11519  3119  1840  5917  6084 10810  3018 17870 16272  1389 13333 11874   231  #>     3     4     1     4     3     2     2     4     4     1     3     4     2  #>   328  5995 15152  4344 10555  5505 11050  3456  2194  3206   552 18719 10608  #>     4     1     2     2     1     3     3     1     3     1     2     4     2  #> 11083  4128 10168 10545 13229 13045 12539 17096  8374  8582 16280  8409  3052  #>     2     1     1     2     4     2     3     3     2     2     2     4     1  #>   953 18485  9382 15726  2920  7681  9638 13148  7737  2180 15187  1865 11244  #>     2     1     4     2     3     2     3     2     4     4     1     1     3  #>  3208   377  3041 18115   200 12158 13591 13960  9168 14345  6046 13005  5575  #>     2     4     4     3     4     1     2     4     4     4     2     4     2  #>  8234 10216  1987  6681   413  1974 11985 14226 15420 17872  7608  6320   218  #>     2     4     3     4     4     1     4     4     4     2     4     3     4  #> 11958  8759  7529 18791  2031  4603 15405  1917  9828  2865 14912  2938  3417  #>     1     3     3     3     4     4     4     4     3     4     2     2     2  #> 16528  4822 12601 11539 16417 15764  9946 11439 17412 17989  2187  6530  7579  #>     4     2     3     4     1     2     3    99     2     2     4     4     2  #>  8106  2144 16490  5704  1936 14752 12150  7715  1449 15224 11080  3605 14893  #>     3     2     4     4     3     4     4     4     3     4     4     3     4  #>  4499  4697  1966  1249 12657  1304   739  3248  3162  6918  6384 16867  8816  #>     2     2     3     4     4     4     1     4     4     4     1     4     1  #>  7094  7970  9582 18098  8690  8999 13623 16635 13089  8677 10193  6226 13103  #>     3     2     3     2     2     4     3     4     2     1     4    99     4  #>  8971 11277 11530  4576  8172  3520  9845   353 15653 11607 18454 11396  1604  #>     3     4     4     4     4     3     2     1     3     3     2     3     2  #>  9734 10794  3434  9573 17294  4321 10313 17761 10327  6702 18090 15091 12484  #>     3     3     2     4     4     2     3     2     3     2     3     3     4  #>  8024 11782  3187   384  6370 16191   116  4709 18185  1486  7016 11149 10846  #>     2     2     3     2     3     4     2     2     1     1     3     2     4  #>  3654   842  9319 15433  3858 18456 10920 18780  7507 18419 13540   314  1786  #>     2    99     2     2     2     2     3     2     2     3     4     3     4  #> 14800   726  5251  3783 10383  9069  9771  8665  6596 13074 10880 15106 12280  #>     4     4     2     3     4     2     2     2     4     2     3     2     3  #>  2595 14270  7738 16464  1598 15118  2190 18505 11746  2097 17319 11165  7832  #>     3     3     2     4     2     1     3     4     3     4     4     4     2  #>   558  4902  8339 18776 15643 13729  3247 16290 13587 11688  9470  8822 16146  #>     2     4     2     4     3     3    99     3     4     3     2     4     3  #>  2837 14112   972 10906 10946  7432 17217   108 17737  6095  6852  5103  8643  #>     3     3     4     4     2     2     4     3     1     2     1     2     4  #>  7729  7376 14091 16750  1955  4351  9060  5348 15947  2399  5960  7517  5908  #>     2     4     4     2     4     3     2     2     1     4     3    99     1  #> 18209  5359  1181 17298  9162 10219  1982 12741  9444 11292  8548  7750 11720  #>     2     2     1     2     4     3     4     3     2     1     3     1     3  #>  3948 17087  7968 11814 16324 13640  5761  7389  1100 14395 11936 13559  7285  #>     3    99     3     1     2     3     2     4     2     2     3     2     2  #> 18073  6107 17451  8298 15567  5229  7018 15117  2179  8078  1409 18097   222  #>     1     1     2     4     4     2     3     4     2     4     3     4     3  #>   923  5971  3628 18066 16344 16372  6072  7921 12740  4858 14953  4955 18139  #>     4     4     4     4    99     2     2     3     3     2     4     4     1  #>  4782 12045 10959 13542 16994  1338  5928  9910 10311  5544 15889  9527 17735  #>     4     2     4     1     3     4     2     3     4     2     2     2     3  #> 10211 18285  5378  7670 14097  8181  7171 17453 15672  9438 18795  4705 16337  #>     1     3     4     3     3     3     2     1     2     3     4     2     3  #> 15293 14942  5273 13987   818  4412 10224   193 15606 10334  3834  2078  2683  #>     1     4     2     4     1     2     4     2     4     4     2     2     3  #> 12359 16512  9416  9735 14437   271  6029 12820 10689 17229  5436 12664 14572  #>     2     3     3     3     2     4     2     3     4     3     2     4     4  #>  5714  2625  4301  1811 15963  1200  6043 10156 11621 13644 13361 12458  9021  #>     2     2     1     2     3     3     3     3     2     4     4     2     2  #> 11976 16474 10091  7561  1022 13161 18288 16810 14238  4575 11631 13221 13833  #>     3     2     3     4     1     4     2     3     4     4     4     2     2  #> 13898  1412  2596  4786 12727  6750  1244  1411 11928  4971  5130 18001 12499  #>     3     3     4     1     3     3     4     4     3     4     4     4     2  #> 15237    67  5420 11256 12029  5292  7992  2067 13689 14156 10686  7041 11027  #>     4     2     1     3     3     2     4     4     2     3     4     4     2  #>  9135   615 18195  7120 14352 13557 16070  5210 18127  3070  3033  2006  4254  #>     3     4     4     3     2     4     2     4     4     3     2     2     2  #> 11207  1002 17955   412  5914  2004  9521 17244 16130  6639 15275  2483 13109  #>     4     4     1     1     4     2     2     4     3     4     2     2     4  #> 10321  6571  3754  9920 14844 16426 17182 15446 14855  6717  7075  9733 16849  #>     2     4     4     1     4     3     4     2     3     4     2     3     4  #>  5769  4179 17281   599  1043 15512  5203  3342 17058 15691  3746  2547  7562  #>     4     2     3     4     4     4     2     1     2     4     2     3     2  #>  1151  4825 15634  3123 15154  3684 17360 18688 11798  3074 15594 11466  7141  #>     3     2     4     4     4     4     2     1     4     2     3     1     4  #>  2277  7190 18430 17910 14510  9753  7148   341 13762  2829 14880 17900 16818  #>     1     4     4     3     4     3     3     3     3     4     4     4     1  #> 17954 14275 16571  7712  3396   306 18160  9241 11259 10106  3378  2917 10519  #>     4     4     3     1     2     3     2     2     3     3     4     1     3  #>  2311  8668 15987  5361 15964  3469  3729  6855  5856   375 17911 17419 15911  #>     4     2     2     4     4     4     2     4     4     4     4     2     1  #>   101 15920 16745 13782  3880  5706  3558  1795 11076  2956  8037 18162  8004  #>     2     3     4     4     3     2     1     2     3     2     3     1     2  #>  6100  2624  3535   973  6486  5756  6244 12868  3704  6379 12869 17953  5992  #>     3     2     4     4     2     3     2     3     3     4     3     2     4  #> 18000 13555 16223 16350  1921 13149 10546  3127 18546 15178  6326 18356  8453  #>     4     4     4     3     4     3     1     2     3     1     4     4     2  #> 17496   623  3987 17416 16040 17119 12430 18268 11160  7621  4894 14998 12628  #>     2     4     3     1     4     1     4     3     3     1     2     2     4  #> 13218  5075 13162  2472   459  9989 17139 17128  4824 12745  9387 12491 13455  #>     2     4     2     4     1     1     2     4     4     4     4     4     4  #> 14790  6718 10055  2349 12736 10302 16224 13909 13049  1906 16942 11156  7688  #>     2     4     3     2     3     2     2     4     4     3     1     3     4  #> 14336  6254  6966  9913  9009  7546 14085  5771  1505  2441  8567  1250  8579  #>     4     4     3     2     4     2     2     4     4     4     3     1     3  #>  4031 18751  2535  1388 14187  8268  1592 14419  4455  2040  5300  5456 15212  #>     4     4    99     2     1     1     3     4     2     4     2     4     2  #>  5655  5259 12166 17780  1996  6388   214  3790  1024 14229 16691  7119  3120  #>     3    99     2     3     3     2     3     1     3     2     1     3     2  #>  2585  7548  4346  3105  #>     2     4     4     4  #> attr(,\"label\") #> [1] \"Age - 4 category\" #> attr(,\"labels\") #>   18-29   30-49   50-64     65+ Refused  #>       1       2       3       4      99"},{"path":"https://jdenn0514.github.io/surveytidy/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. dplyr arrange, distinct, filter, filter_out, glimpse, group_by, group_vars, mutate, pull, relocate, rename, rename_with, rowwise, select, slice, slice_head, slice_max, slice_min, slice_sample, slice_tail, ungroup tidyr drop_na","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/relocate.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Change column order in a survey design object — relocate.survey_base","title":"Change column order in a survey design object — relocate.survey_base","text":"relocate() moves columns new position using tidyselect mini-language select(). Design variables (weights, strata, PSUs) moved — analysis columns change position.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/relocate.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Change column order in a survey design object — relocate.survey_base","text":"","code":"relocate.survey_base(.data, ..., .before = NULL, .after = NULL)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/relocate.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Change column order in a survey design object — relocate.survey_base","text":".data survey_base object. ... <tidy-select> Columns move. ., .<tidy-select> destination column. Columns ... placed immediately . Specify one ...","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/relocate.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Change column order in a survey design object — relocate.survey_base","text":"object type .data following properties: Rows modified. columns present; order changes. Design variables moved. Groups survey design attributes preserved.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/relocate.survey_base.html","id":"design-variable-positions","dir":"Reference","previous_headings":"","what":"Design variable positions","title":"Change column order in a survey design object — relocate.survey_base","text":"Design variables always preserved current position underlying data. call relocate(), non-design columns affected reordering.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/relocate.survey_base.html","id":"after-select-","dir":"Reference","previous_headings":"","what":"After select()","title":"Change column order in a survey design object — relocate.survey_base","text":"select() called, relocate() reorders visible columns (shown print object). effect physical column order underlying data.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/relocate.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Change column order in a survey design object — relocate.survey_base","text":"","code":"library(surveytidy) library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Move agecat before gender relocate(d, agecat, .before = gender) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Move all social media columns to the front relocate(d, dplyr::starts_with(\"smuse_\")) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    smuse_fb smuse_yt smuse_x smuse_ig smuse_sc smuse_wa smuse_tt smuse_rd #>       <dbl>    <dbl>   <dbl>    <dbl>    <dbl>    <dbl>    <dbl>    <dbl> #>  1        2        1       2        2        2        2        2        1 #>  2        1        1       2        1        2        2        1        2 #>  3        1        1       1        1        2        1        2        2 #>  4        2        1       2        2        2        2        2        2 #>  5        1        1       1        1        1        2        2        2 #>  6       NA       NA      NA       NA       NA       NA       NA       NA #>  7        1        1       2        1        2        1        2        2 #>  8        1        2       1        2        2        2        2        2 #>  9        1        1       2        2        1        2        2        2 #> 10        1        1       2        1        1        1        2        2 #> # ℹ 5,012 more rows #> # ℹ 57 more variables: smuse_bsk <dbl>, smuse_th <dbl>, smuse_ts <dbl>, #> #   respid <dbl>, mode <dbl>, language <dbl>, languageinitial <dbl>, #> #   stratum <dbl>, interview_start <date>, interview_end <date>, #> #   econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, unity <dbl>, #> #   crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, fin_sit <dbl>, #> #   vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, intfreq <dbl>, …  # After select(), relocate reorders the visible columns d |>   select(gender, agecat, partysum) |>   relocate(partysum, .before = gender) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 3 #>    partysum gender agecat #>       <dbl>  <dbl>  <dbl> #>  1        2      2      4 #>  2        2      1      4 #>  3        1      2      4 #>  4        1      1      2 #>  5        1      1      4 #>  6        1      1      4 #>  7        2      1      3 #>  8        1      2      4 #>  9        1      2      3 #> 10        2      2      2 #> # ℹ 5,012 more rows #>  #> ℹ Design variables preserved but hidden: weight and stratum. #> ℹ Use `print(x, full = TRUE)` to show all variables."},{"path":"https://jdenn0514.github.io/surveytidy/reference/rename.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Rename columns of a survey design object — rename.survey_base","title":"Rename columns of a survey design object — rename.survey_base","text":"rename() rename_with() change column names underlying data automatically keep survey design sync. Variable labels, value labels, metadata follow rename — manual bookkeeping required. Use rename() new_name = old_name pairs; use rename_with() apply function across selection column names. Renaming design variable (weights, strata, PSUs) fully supported: design specification updates automatically surveytidy_warning_rename_design_var warning issued confirm change.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/rename.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rename columns of a survey design object — rename.survey_base","text":"","code":"rename.survey_base(.data, ...)  rename_with.survey_base(.data, .fn, .cols = dplyr::everything(), ...)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/rename.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rename columns of a survey design object — rename.survey_base","text":".data survey_base object. ... <tidy-select> Use new_name = old_name pairs rename columns. number columns can renamed single call. .fn function (formula/lambda) applied selected column names. Must return character vector length input, duplicates conflicts existing non-renamed column names. .cols <tidy-select> Columns whose names .fn transform. Defaults columns.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/rename.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rename columns of a survey design object — rename.survey_base","text":"object type .data following properties: Rows added removed. Column order preserved. Renamed columns updated @data, @variables, @metadata, @groups. Survey design attributes preserved.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/rename.survey_base.html","id":"what-gets-updated","dir":"Reference","previous_headings":"","what":"What gets updated","title":"Rename columns of a survey design object — rename.survey_base","text":"Column names @data — rename takes effect immediately. Design specification — renamed column design variable (weights, strata, PSU, FPC, replicate weights), @variables updated track new name. Metadata — variable labels, value labels, question prefaces, notes, transformation records @metadata re-keyed new name. visible_vars — occurrence old name @variables$visible_vars replaced new name, select() + rename() pipelines work correctly. Groups — renamed column active grouping, @groups updated use new name.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/rename.survey_base.html","id":"renaming-design-variables","dir":"Reference","previous_headings":"","what":"Renaming design variables","title":"Rename columns of a survey design object — rename.survey_base","text":"Renaming design variable (e.g., weights column) intentionally allowed. surveytidy_warning_rename_design_var warning issued reminder design specification updated — indicate error.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/rename.survey_base.html","id":"rename-with-function-forms","dir":"Reference","previous_headings":"","what":"rename_with() function forms","title":"Rename columns of a survey design object — rename.survey_base","text":".fn can : bare function: rename_with(d, toupper) formula: rename_with(d, ~ toupper(.)) lambda: rename_with(d, \\(x) paste0(x, \"_v2\")) Extra arguments .fn can passed via ...:   .cols uses tidy-select syntax. default dplyr::everything() applies .fn columns including design variables — trigger surveytidy_warning_rename_design_var warning renamed design variable.","code":"rename_with(d, stringr::str_replace, .cols = starts_with(\"y\"),             pattern = \"y\", replacement = \"outcome\")"},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/rename.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rename columns of a survey design object — rename.survey_base","text":"","code":"library(dplyr) library(surveytidy) library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # rename() ----------------------------------------------------------------  # Rename an outcome column rename(d, financial_situation = fin_sit) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   financial_situation <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, #> #   intmob <dbl>, intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, #> #   bbhome <dbl>, smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, #> #   smuse_ig <dbl>, smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, …  # Rename multiple columns at once rename(d, region = cregion, education = educcat) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Rename a design variable — warns and updates the design specification rename(d, survey_weight = weight) #> Warning: ! Renamed design variable weight. #> ℹ The survey design has been updated to track the new name. #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # rename_with() -----------------------------------------------------------  # Apply a function to all outcome columns rename_with(d, toupper, .cols = starts_with(\"econ\")) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: ECON1MOD <dbl>, ECON1BMOD <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Use a formula rename_with(d, ~ paste0(., \"_v2\"), .cols = starts_with(\"econ\")) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod_v2 <dbl>, econ1bmod_v2 <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/reference/rowwise.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute row-wise on a survey design object — rowwise.survey_base","title":"Compute row-wise on a survey design object — rowwise.survey_base","text":"rowwise() enables row--row computation mutate(). row treated independent group, expressions like mutate(d, row_max = max(c_across(starts_with(\"y\")))) compute maximum across columns row independently. Use ungroup() group_by() exit rowwise mode.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/rowwise.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute row-wise on a survey design object — rowwise.survey_base","text":"","code":"rowwise.survey_base(data, ...)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/rowwise.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute row-wise on a survey design object — rowwise.survey_base","text":"data survey_base object. ... <tidy-select> Optional id columns identify row (used dplyr::c_across()). Commonly omitted.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/rowwise.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute row-wise on a survey design object — rowwise.survey_base","text":"data @variables$rowwise = TRUE @variables$rowwise_id_cols set. properties unchanged.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/rowwise.survey_base.html","id":"storage","dir":"Reference","previous_headings":"","what":"Storage","title":"Compute row-wise on a survey design object — rowwise.survey_base","text":"Rowwise mode stored @variables$rowwise (logical TRUE) @variables$rowwise_id_cols (character vector id column names). @groups modified — rowwise mode independent grouping.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/rowwise.survey_base.html","id":"exiting-rowwise-mode","dir":"Reference","previous_headings":"","what":"Exiting rowwise mode","title":"Compute row-wise on a survey design object — rowwise.survey_base","text":"ungroup(d) — exits rowwise mode removes groups. group_by(d, ...) — exits rowwise mode sets new groups. group_by(d, ..., .add = TRUE) — promotes id columns groups, appends new groups, exits rowwise mode.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/rowwise.survey_base.html","id":"mutate-behaviour","dir":"Reference","previous_headings":"","what":"mutate() behaviour","title":"Compute row-wise on a survey design object — rowwise.survey_base","text":"mutate() detects rowwise mode routes internally dplyr::rowwise(@data) calling dplyr::mutate(). rowwise_df class stripped @data mutation subsequent operations accidentally rowwise.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/rowwise.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute row-wise on a survey design object — rowwise.survey_base","text":"","code":"library(surveytidy) library(surveycore) library(dplyr) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Row-wise max across several columns d |>   rowwise() |>   mutate(row_max = max(c_across(starts_with(\"econ\")), na.rm = TRUE)) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 66 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 59 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Exit rowwise mode d |> rowwise() |> ungroup() #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/reference/select.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Keep or drop columns using their names and types — select.survey_base","title":"Keep or drop columns using their names and types — select.survey_base","text":"select() keeps named columns drops others, using tidyselect mini-language describe column sets. Design variables (weights, strata, PSU, FPC, replicate weights) always retained even explicitly selected — required variance estimation. select(), print() shows columns selected; design variables remain object hidden display. select() irreversible: dropped columns permanently removed survey object recovered within pipeline.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/select.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Keep or drop columns using their names and types — select.survey_base","text":"","code":"select.survey_base(.data, ...)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/select.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Keep or drop columns using their names and types — select.survey_base","text":".data survey_base object. ... <tidy-select> One unquoted column names tidy-select expressions.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/select.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Keep or drop columns using their names and types — select.survey_base","text":"object type .data following properties: Rows modified. Non-selected, non-design columns permanently removed. Design variables always retained. Survey design attributes preserved.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/select.survey_base.html","id":"design-variable-preservation","dir":"Reference","previous_headings":"","what":"Design variable preservation","title":"Keep or drop columns using their names and types — select.survey_base","text":"Regardless select, following always kept survey object: weights, strata, PSUs, FPC columns, replicate weights, domain column (set filter()). hidden print() output remain available variance estimation.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/select.survey_base.html","id":"metadata","dir":"Reference","previous_headings":"","what":"Metadata","title":"Keep or drop columns using their names and types — select.survey_base","text":"Variable labels, value labels, metadata dropped columns removed. Metadata retained columns preserved.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/select.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Keep or drop columns using their names and types — select.survey_base","text":"","code":"library(surveytidy) library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Select by name select(d, gender, agecat) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 2 #>    gender agecat #>     <dbl>  <dbl> #>  1      2      4 #>  2      1      4 #>  3      2      4 #>  4      1      2 #>  5      1      4 #>  6      1      4 #>  7      1      3 #>  8      2      4 #>  9      2      3 #> 10      2      2 #> # ℹ 5,012 more rows #>  #> ℹ Design variables preserved but hidden: weight and stratum. #> ℹ Use `print(x, full = TRUE)` to show all variables.  # Select by name pattern select(d, dplyr::starts_with(\"smuse_\")) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 11 #>    smuse_fb smuse_yt smuse_x smuse_ig smuse_sc smuse_wa smuse_tt smuse_rd #>       <dbl>    <dbl>   <dbl>    <dbl>    <dbl>    <dbl>    <dbl>    <dbl> #>  1        2        1       2        2        2        2        2        1 #>  2        1        1       2        1        2        2        1        2 #>  3        1        1       1        1        2        1        2        2 #>  4        2        1       2        2        2        2        2        2 #>  5        1        1       1        1        1        2        2        2 #>  6       NA       NA      NA       NA       NA       NA       NA       NA #>  7        1        1       2        1        2        1        2        2 #>  8        1        2       1        2        2        2        2        2 #>  9        1        1       2        2        1        2        2        2 #> 10        1        1       2        1        1        1        2        2 #> # ℹ 5,012 more rows #> # ℹ 3 more variables: smuse_bsk <dbl>, smuse_th <dbl>, smuse_ts <dbl> #>  #> ℹ Design variables preserved but hidden: weight and stratum. #> ℹ Use `print(x, full = TRUE)` to show all variables.  # Select by type select(d, dplyr::where(is.numeric)) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 63 #>    respid  mode language languageinitial stratum econ1mod econ1bmod comtype2 #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl>    <dbl>     <dbl>    <dbl> #>  1   1470     2        1              NA      10        4         2        3 #>  2   2374     2        1              NA       7        3         2        1 #>  3   1177     3        1              10       5        2         1        3 #>  4  15459     2        1              NA      10        3         3        3 #>  5   9849     1        1               9       9        2         1        2 #>  6   8178     3        1               9      10        2         2        1 #>  7   3682     1        1               9       4        3         2        1 #>  8   6999     2        1              NA      10        3         3        3 #>  9   9945     2        1              NA      10        3         2        3 #> 10   1901     1        1               9      10        1         1        2 #> # ℹ 5,012 more rows #> # ℹ 55 more variables: unity <dbl>, crimesafe <dbl>, govprotct <dbl>, #> #   moregunimpact <dbl>, fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, #> #   eminuse <dbl>, intmob <dbl>, intfreq <dbl>, intfreq_collapsed <dbl>, #> #   home4nw2 <dbl>, bbhome <dbl>, smuse_fb <dbl>, smuse_yt <dbl>, #> #   smuse_x <dbl>, smuse_ig <dbl>, smuse_sc <dbl>, smuse_wa <dbl>, #> #   smuse_tt <dbl>, smuse_rd <dbl>, smuse_bsk <dbl>, smuse_th <dbl>, …  # Drop columns with ! select(d, !dplyr::starts_with(\"smuse_\")) #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 5022 #>  #> # A tibble: 5,022 × 54 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 5,012 more rows #> # ℹ 47 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   radio <dbl>, device1a <dbl>, smart2 <dbl>, nhisll <dbl>, relig <dbl>, #> #   religcat1 <dbl>, born <dbl>, attendper <dbl>, attendonline2 <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/reference/slice.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Physically select rows of a survey design object — slice.survey_base","title":"Physically select rows of a survey design object — slice.survey_base","text":"slice(), slice_head(), slice_tail(), slice_min(), slice_max(), slice_sample() physically remove rows survey design object. subpopulation analyses, use filter() instead — marks rows --domain without removing , preserving valid variance estimation. slice functions always issue surveycore_warning_physical_subset error result 0 rows.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/slice.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Physically select rows of a survey design object — slice.survey_base","text":"","code":"slice.survey_base(.data, ...)  slice_head.survey_base(.data, ...)  slice_tail.survey_base(.data, ...)  slice_min.survey_base(.data, ...)  slice_max.survey_base(.data, ...)  slice_sample.survey_base(.data, ...)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/slice.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Physically select rows of a survey design object — slice.survey_base","text":".data survey_base object. ... Passed corresponding dplyr::slice_*() function.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/slice.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Physically select rows of a survey design object — slice.survey_base","text":"object type .data following properties: subset rows retained; unselected rows permanently removed. Columns survey design attributes unchanged. Always issues surveycore_warning_physical_subset.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/slice.survey_base.html","id":"physical-subsetting","dir":"Reference","previous_headings":"","what":"Physical subsetting","title":"Physically select rows of a survey design object — slice.survey_base","text":"Unlike filter(), slice functions actually remove rows. changes survey design — unless design explicitly built subset population, variance estimates may incorrect.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/slice.survey_base.html","id":"slice-sample-and-survey-weights","dir":"Reference","previous_headings":"","what":"slice_sample() and survey weights","title":"Physically select rows of a survey design object — slice.survey_base","text":"slice_sample(weight_by = ) samples rows proportional column's values, independently survey design weights. surveytidy_warning_slice_sample_weight_by warning issued reminder. intend probability-proportional sampling, use design weights directly.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/slice.survey_base.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Physically select rows of a survey design object — slice.survey_base","text":"slice_head.survey_base(): Select first n rows. slice_tail.survey_base(): Select last n rows. slice_min.survey_base(): Select rows smallest values. slice_max.survey_base(): Select rows largest values. slice_sample.survey_base(): Randomly sample rows.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/slice.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Physically select rows of a survey design object — slice.survey_base","text":"","code":"library(surveytidy) library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # First 10 rows (issues a physical subset warning) slice_head(d, n = 10) #> Warning: ! `slice_head()` physically removes rows from the survey data. #> ℹ This is different from `filter()`, which preserves all rows for correct #>   variance estimation. #> ✔ Use `filter()` for subpopulation analyses instead. #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 10 #>  #> # A tibble: 10 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4  15459     2        1              NA      10 2025-05-05      2025-05-05    #>  5   9849     1        1               9       9 2025-02-22      2025-02-22    #>  6   8178     3        1               9      10 2025-03-10      2025-03-10    #>  7   3682     1        1               9       4 2025-02-27      2025-02-27    #>  8   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  9   9945     2        1              NA      10 2025-05-09      2025-05-09    #> 10   1901     1        1               9      10 2025-03-01      2025-03-01    #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, #> #   smuse_bsk <dbl>, smuse_th <dbl>, smuse_ts <dbl>, radio <dbl>, …  # Rows with the 5 lowest survey weights slice_min(d, order_by = weight, n = 5) #> Warning: ! `slice_min()` physically removes rows from the survey data. #> ℹ This is different from `filter()`, which preserves all rows for correct #>   variance estimation. #> ✔ Use `filter()` for subpopulation analyses instead. #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 51 #>  #> # A tibble: 51 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   3716     1        1               9       1 2025-02-25      2025-02-25    #>  2     80     1        1               9       1 2025-03-12      2025-03-12    #>  3  13195     1        1               9       7 2025-02-24      2025-02-24    #>  4  12549     1        1               9       9 2025-03-30      2025-03-30    #>  5  18538     1        1               9       8 2025-03-06      2025-03-06    #>  6  12391     2        1              NA       7 2025-05-05      2025-05-05    #>  7   2656     1        1               9       1 2025-03-08      2025-03-08    #>  8   5702     1        1               9       1 2025-03-10      2025-03-10    #>  9   7131     1        1               9       2 2025-03-04      2025-03-04    #> 10   6278     1        1               9       7 2025-03-01      2025-03-01    #> # ℹ 41 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …  # Random sample of 50 rows slice_sample(d, n = 50) #> Warning: ! `slice_sample()` physically removes rows from the survey data. #> ℹ This is different from `filter()`, which preserves all rows for correct #>   variance estimation. #> ✔ Use `filter()` for subpopulation analyses instead. #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 50 #>  #> # A tibble: 50 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   4447     2        1              NA      10 2025-05-05      2025-05-05    #>  2  10054     1        1               9      10 2025-02-23      2025-02-23    #>  3   4907     1        1               9      10 2025-02-08      2025-02-08    #>  4  10520     1        1               9      10 2025-02-24      2025-02-24    #>  5   2483     1        1               9      10 2025-02-25      2025-02-25    #>  6  13027     2        1              NA      10 2025-05-27      2025-05-27    #>  7   2065     3        1               9      10 2025-02-26      2025-02-26    #>  8  14010     2        1              NA      10 2025-05-12      2025-05-12    #>  9   1782     2        1              NA       7 2025-05-12      2025-05-12    #> 10  10245     2        1              NA      10 2025-05-23      2025-05-23    #> # ℹ 40 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/reference/subset.survey_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Physically remove rows from a survey design object — subset.survey_base","title":"Physically remove rows from a survey design object — subset.survey_base","text":"subset() physically removes rows survey_base object condition evaluates FALSE. changes survey design. Unless design explicitly built subset population, variance estimates incorrect. subpopulation analyses, use filter() instead. filter() marks rows domain without removing , leaving full design intact variance estimation. subset() always emits surveycore_warning_physical_subset warning reminder statistical implications.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/subset.survey_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Physically remove rows from a survey design object — subset.survey_base","text":"","code":"# S3 method for class 'survey_base' subset(x, condition, ...)"},{"path":"https://jdenn0514.github.io/surveytidy/reference/subset.survey_base.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Physically remove rows from a survey design object — subset.survey_base","text":"x survey_base object. condition logical expression evaluated survey data. Rows condition FALSE NA removed. ... Ignored. Included compatibility base subset() generic.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/subset.survey_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Physically remove rows from a survey design object — subset.survey_base","text":"object type x matching rows retained. Always issues surveycore_warning_physical_subset.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/subset.survey_base.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Physically remove rows from a survey design object — subset.survey_base","text":"","code":"library(surveytidy) library(surveycore) d <- as_survey(pew_npors_2025, weights = weight, strata = stratum)  # Physical row removal — always issues a warning subset(d, agecat >= 3) #> Warning: ! `subset()` physically removes rows from the survey data. #> ℹ This is different from `filter()`, which preserves all rows for correct #>   variance estimation. #> ✔ Use `filter()` for subpopulation analyses instead. #>  #> ── Survey Design ─────────────────────────────────────────────────────────────── #> <survey_taylor> (Taylor series linearization) #> Sample size: 3143 #>  #> # A tibble: 3,143 × 65 #>    respid  mode language languageinitial stratum interview_start interview_end #>     <dbl> <dbl>    <dbl>           <dbl>   <dbl> <date>          <date>        #>  1   1470     2        1              NA      10 2025-05-27      2025-05-27    #>  2   2374     2        1              NA       7 2025-05-01      2025-05-01    #>  3   1177     3        1              10       5 2025-03-04      2025-03-04    #>  4   9849     1        1               9       9 2025-02-22      2025-02-22    #>  5   8178     3        1               9      10 2025-03-10      2025-03-10    #>  6   3682     1        1               9       4 2025-02-27      2025-02-27    #>  7   6999     2        1              NA      10 2025-05-12      2025-05-12    #>  8   9945     2        1              NA      10 2025-05-09      2025-05-09    #>  9  18470     2        1              NA      10 2025-05-08      2025-05-08    #> 10  18634     2        1              NA      10 2025-05-02      2025-05-02    #> # ℹ 3,133 more rows #> # ℹ 58 more variables: econ1mod <dbl>, econ1bmod <dbl>, comtype2 <dbl>, #> #   unity <dbl>, crimesafe <dbl>, govprotct <dbl>, moregunimpact <dbl>, #> #   fin_sit <dbl>, vet1 <dbl>, vol12_cps <dbl>, eminuse <dbl>, intmob <dbl>, #> #   intfreq <dbl>, intfreq_collapsed <dbl>, home4nw2 <dbl>, bbhome <dbl>, #> #   smuse_fb <dbl>, smuse_yt <dbl>, smuse_x <dbl>, smuse_ig <dbl>, #> #   smuse_sc <dbl>, smuse_wa <dbl>, smuse_tt <dbl>, smuse_rd <dbl>, …"},{"path":"https://jdenn0514.github.io/surveytidy/reference/surveytidy-package.html","id":null,"dir":"Reference","previous_headings":"","what":"surveytidy: Tidy dplyr/tidyr Verbs for Survey Design Objects — surveytidy-package","title":"surveytidy: Tidy dplyr/tidyr Verbs for Survey Design Objects — surveytidy-package","text":"Provides dplyr tidyr verbs survey design objects created surveycore package. key statistical feature domain-aware filtering: filter() marks rows -domain rather removing , essential correct variance estimation subpopulation statistics.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/surveytidy-package.html","id":"key-verbs","dir":"Reference","previous_headings":"","what":"Key verbs","title":"surveytidy: Tidy dplyr/tidyr Verbs for Survey Design Objects — surveytidy-package","text":"filter() — domain estimation (marks rows, never removes ) select() — column selection preserving design variables mutate() — add/modify columns weight-change warnings rename() — auto-updates design variable names metadata group_by() / ungroup() — grouped analysis support arrange() — row sorting preserving domain membership subset() — physical row removal strong warning","code":""},{"path":"https://jdenn0514.github.io/surveytidy/reference/surveytidy-package.html","id":"domain-estimation-vs-physical-subsetting","dir":"Reference","previous_headings":"","what":"Domain estimation vs. physical subsetting","title":"surveytidy: Tidy dplyr/tidyr Verbs for Survey Design Objects — surveytidy-package","text":"filter() subset() fundamentally different statistical meanings: filter(.data, condition) — sets ..surveycore_domain.. TRUE matching rows. rows retained. Variance estimation correctly uses full design. subset(.data, condition) — physically removes non-matching rows. Variance estimates biased unless design explicitly built subset. Use understand statistical implications.","code":""},{"path":[]},{"path":"https://jdenn0514.github.io/surveytidy/reference/surveytidy-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"surveytidy: Tidy dplyr/tidyr Verbs for Survey Design Objects — surveytidy-package","text":"Maintainer: Jacob Dennen jacob.dennen@example.com","code":""},{"path":"https://jdenn0514.github.io/surveytidy/news/index.html","id":"surveytidy-010","dir":"Changelog","previous_headings":"","what":"surveytidy 0.1.0","title":"surveytidy 0.1.0","text":"First release. Implements complete set dplyr tidyr verbs survey design objects created surveycore package.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/news/index.html","id":"new-verbs-0-1-0","dir":"Changelog","previous_headings":"","what":"New verbs","title":"surveytidy 0.1.0","text":"filter() — domain-aware filtering. Marks rows -domain rather removing , preserving correct variance estimation subpopulation analyses. Chained filter() calls conditions together. select() — column selection. Physically removes non-selected columns always retaining design variables (weights, strata, PSU, FPC, replicate weights). Sets @variables$visible_vars print() hides design columns user explicitly request. relocate() — column reordering. Reorders visible_vars prior select() called; reorders @data directly otherwise. pull() — extract column plain vector (terminal operation). glimpse() — concise column summary, respecting visible_vars. mutate() — add modify columns. Re-attaches design variables dropped .keep = \"none\" .keep = \"used\". Issues surveytidy_warning_mutate_design_var mutation’s left-hand side names design variable. Respects @groups set group_by(). rename() — rename columns. Automatically keeps @variables (design specification) @metadata (variable labels, value labels, etc.) sync new column names. Issues surveytidy_warning_rename_design_var design variable renamed. arrange() — row sorting. domain column moves correctly rows sorting. Supports .by_group = TRUE using @groups. slice(), slice_head(), slice_tail(), slice_min(), slice_max(), slice_sample() — physical row selection surveycore_warning_physical_subset warning. slice_sample(weight_by = ) additionally issues surveytidy_warning_slice_sample_weight_by flag weight_by column independent survey design weights. group_by() — store grouping columns @groups. attach grouped_df attribute @data; grouping kept survey object. Supports .add = TRUE incremental grouping computed expressions (e.g., group_by(d, above_median = y1 > median(y1))). ungroup() — remove groups (arguments) remove specific columns @groups (partial ungroup). drop_na() — domain-aware NA handling. Marks rows NA specified columns (column) --domain without removing . Equivalent filter(!.na(col1), !.na(col2), ...) gives correct variance estimates downstream analyses. Successive drop_na() calls conditions together. subset() — physical row removal surveycore_warning_physical_subset. Prefer filter() subpopulation analyses.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/news/index.html","id":"statistical-design-0-1-0","dir":"Changelog","previous_headings":"","what":"Statistical design","title":"surveytidy 0.1.0","text":"key design decision surveytidy filter() never removes rows. Removing rows survey design changes units contribute variance estimation produces incorrect standard errors subpopulation statistics. filter() instead writes logical domain column (..surveycore_domain..) @data. Phase 1 estimation functions read column restrict calculations domain retaining rows variance estimation.","code":""},{"path":"https://jdenn0514.github.io/surveytidy/news/index.html","id":"infrastructure-0-1-0","dir":"Changelog","previous_headings":"","what":"Infrastructure","title":"surveytidy 0.1.0","text":"dplyr_reconstruct.survey_base() ensures complex dplyr pipelines (joins, across(), internal slice operations) return survey objects rather plain tibbles. Errors surveycore_error_design_var_removed pipeline drops design variable. Invariant 6 added test_invariants(): every column name listed @variables$visible_vars must exist @data.","code":""}]
